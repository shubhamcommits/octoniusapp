<div class="container">


        <!-- <div class="col-md-4"> -->

            <!-- Group Information starts -->
            <!-- <app-group-information
                *ngIf="groupData && userData && checkDataExist(groupData) && checkDataExist(userData) && !globalFeed"
                [userData]="userData"
                [groupData]="groupData"
                [myWorkplace]="myWorkplace">
            </app-group-information> -->
            <!-- Group Information ends -->

            <!-- Task Progress Count starts -->
            <!-- <app-group-task-progress *ngIf="groupData && groupData?._id && globalFeed == false" [groupId]="groupData?._id"
                [myWorkplace]="myWorkplace"></app-group-task-progress> -->
            <!-- Task Progress Count ends -->

              <!-- Send pulse starts -->
              <!-- <app-activity-filters *ngIf="groupData && globalFeed == false" [group]="groupData" (filterPostsEmitter)="applyFilters($event)">
              </app-activity-filters> -->
              <!-- Send pulse ends -->

            <!-- Send pulse starts
            <app-send-pulse *ngIf="groupData && groupData?._id &&  && myWorkplace === false && globalFeed == false" [groupId]="groupData?._id">
            </app-send-pulse>
            Send pulse ends -->



            <!-- Task Smart Card Starts -->
            <!-- <app-task-smart-card *ngIf="globalFeed"></app-task-smart-card> -->
            <!-- Task Smart Card Ends -->

            <!-- Agenda Smart Card Starts -->
            <!-- <app-agenda-smart-card *ngIf="globalFeed" [routerLink]="'/dashboard/myspace/agenda'"></app-agenda-smart-card> -->
            <!-- Agenda Smart Card Ends -->
        <!-- </div> -->

        <div>
              <i (click)="openFilters()" class="material-icons-outlined float-right" style="cursor: pointer; margin: 10px; width:30px;">filter_list</i>

            <!-- News Feed Pill -->
            <app-news-pill *ngIf="showNewPosts" (click)="newPosts()"></app-news-pill>
            <!-- News Feed Pill -->

            <!-- Group activity postbox starts -->
            <app-group-postbox *ngIf="userData && checkDataExist(userData) && this.globalFeed == false"
                [userData]="userData" [groupId]="groupData?._id" (post)="getPost($event)" (edited)="editedPost($event)"></app-group-postbox>
            <!-- Group activity postbox ends -->

            <!-- Activity posts section starts -->
            <!-- Pinned posts starts -->
            <mat-accordion>
              <mat-expansion-panel [expanded]="groupData?.keep_pinned_open" style="background-color: #FBB732; margin-top: 10px;">
                <mat-expansion-panel-header class="column-title">
                  <mat-panel-title style="justify-content: space-between; width: 100%;">
                    <div style="color: #FFFFFF;">
                      <i class="material-icons-outlined">push_pin</i>
                      {{ pinnedPosts?.length }} <span i18n="@@groupActivityFeed.pinnedPosts">Pinned posts</span>
                    </div>
                    <div *ngIf="isGroupManager()">
                      <mat-slide-toggle color="primary"
                          [checked]="groupData?.keep_pinned_open"
                          [name]="'keep_pinned_open'"
                          (change)="saveSettings($event)"
                          [(ngModel)]="keepPinnedOpen">
                        <h6 style="color: #FFFFFF;"><b i18n="@@groupActivityFeed.keepOpen">Keep Open</b></h6>
                      </mat-slide-toggle>
                    </div>
                  </mat-panel-title>

                  <mat-panel-description>
                  </mat-panel-description>
                </mat-expansion-panel-header>

                <div *ngIf="pinnedPosts.length > 0"
                    style="width: 98%; margin-left: auto; margin-right: auto;"
                    [ngClass]="{'mt-3': this.globalFeed === false }">
                  <ul class="list-group" *ngFor="let post of pinnedPosts; trackBy: utilityService.trackByIndex">
                    <app-post-view *ngIf="post && userData && checkDataExist(userData)"
                      [post]="post"
                      [userData]="userData"
                      [globalFeed]="globalFeed"
                      [groupData]="groupData"
                      [workspaceId]="groupData?._workspace?._id || groupData?._workspace"
                      (delete)="deletePost($event)"
                      (pinEvent)="onPostPin($event)"
                      (closeModalEvent)="editedPost($event)"></app-post-view>
                  </ul>
                </div>
              </mat-expansion-panel>
            </mat-accordion>
            <!-- Pinned posts ends -->

            <!-- Infinite scroll for posts starts -->
            <app-infinite-scroll (scrolled)="onScroll()">
                <div *ngIf="posts.length > 0" [ngClass]="{'mt-3': this.globalFeed === false }">
                    <ul class="list-group"
                        *ngFor="let post of posts; trackBy: utilityService.trackByIndex">
                        <app-post-view *ngIf="post && userData && checkDataExist(userData)"
                            [post]="post"
                            [userData]="userData"
                            [globalFeed]="globalFeed"
                            [groupData]="groupData"
                            [workspaceId]="groupData?._workspace?._id || groupData?._workspace"
                            (delete)="deletePost($event)"
                            (pinEvent)="onPostPin($event)"
                            (closeModalEvent)="editedPost($event)"></app-post-view>
                    </ul>
                </div>
            </app-infinite-scroll>
            <!-- Infinite scroll for posts ends -->

            <!-- Empty State starts -->
            <div class="mt-3">
                <ng-container *ngIf="posts.length == 0 && !(isLoading$ | async)">
                  <img src='assets/images/placeholder_activity.png' class="placeholder-img">
                  <p class="muted text-center" i18n="@@groupActivityFeed.nothingHereCreateSomething">
                    Nothing here. Create something.
                  </p>
                </ng-container>
            </div>
            <!-- Empty State ends -->

            <!-- Activity posts section ends -->

            <!-- Loading Spinner Starts -->
            <ng-container *ngIf="isLoading$ | async">
                <app-loading-spinner class="media"></app-loading-spinner>
            </ng-container>
            <!-- Loading Spinner Ends -->

        </div>

</div>
