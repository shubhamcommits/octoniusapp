{"version":3,"file":"angular2-multiselect-dropdown.umd.js.map","sources":["ng://angular2-multiselect-dropdown/lib/multiselect.model.ts","ng://angular2-multiselect-dropdown/lib/clickOutside.ts","ng://angular2-multiselect-dropdown/lib/multiselect.service.ts","ng://angular2-multiselect-dropdown/lib/list-filter.ts","ng://angular2-multiselect-dropdown/lib/menu-item.ts","ng://angular2-multiselect-dropdown/lib/virtual-scroll.ts","ng://angular2-multiselect-dropdown/lib/multiselect.component.ts"],"sourcesContent":["export class MyException {\n\tstatus : number;\n\tbody : any;\n\tconstructor(status : number, body : any) {\n\t\tthis.status = status;\n\t\tthis.body = body;\n\t}\n\t\n}","import { Directive, ElementRef, Output, EventEmitter, HostListener, Input, OnInit, OnChanges } from '@angular/core';\n\n@Directive({\n    selector: '[clickOutside]'\n})\nexport class ClickOutsideDirective {\n    constructor(private _elementRef: ElementRef) {\n    }\n\n    @Output()\n    public clickOutside = new EventEmitter<MouseEvent>();\n\n    @HostListener('document:click', ['$event', '$event.target'])\n    @HostListener('document:touchstart', ['$event', '$event.target'])\n    public onClick(event: MouseEvent, targetElement: HTMLElement): void {\n        if (!targetElement) {\n            return;\n        }\n\n        const clickedInside = this._elementRef.nativeElement.contains(targetElement);\n        if (!clickedInside) {\n            this.clickOutside.emit(event);\n        }\n    }\n}\n\n@Directive({\n    selector: '[scroll]'\n})\nexport class ScrollDirective {\n    constructor(private _elementRef: ElementRef) {\n    }\n\n    @Output()\n    public scroll = new EventEmitter<MouseEvent>();\n\n    @HostListener('scroll', ['$event'])\n    public onClick(event: MouseEvent, targetElement: HTMLElement): void {\n        this.scroll.emit(event);\n    }\n}\n@Directive({\n    selector: '[styleProp]'\n})\nexport class styleDirective {\n\n    constructor(private el: ElementRef) {\n\n    }\n\n    @Input('styleProp') styleVal: number;\n\n    ngOnInit() {\n\n        this.el.nativeElement.style.top = this.styleVal;\n    }\n    ngOnChanges(): void {\n        this.el.nativeElement.style.top = this.styleVal;\n    }\n}\n\n\n@Directive({\n    selector: '[setPosition]'\n})\nexport class setPosition implements OnInit, OnChanges {\n\n    @Input('setPosition') height: number;\n\n    constructor(public el: ElementRef) {\n\n    }\n    ngOnInit() {\n        if (this.height) {\n            this.el.nativeElement.style.bottom = parseInt(this.height + 15 + \"\") + 'px';\n        }\n    }\n    ngOnChanges(): void {\n        if (this.height) {\n            this.el.nativeElement.style.bottom = parseInt(this.height + 15 + \"\") + 'px';\n        }\n    }\n}","import { Injectable } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\n\n\n@Injectable()\nexport class DataService {\n\n  filteredData: any = [];\n  private subject = new Subject<any>();\n\n  setData(data: any) {\n\n    this.filteredData = data;\n    this.subject.next(data);\n  }\n  getData(): Observable<any> {\n    return this.subject.asObservable();\n  }\n  getFilteredData() {\n    if (this.filteredData && this.filteredData.length > 0) {\n      return this.filteredData;\n    }\n    else {\n      return [];\n    }\n  }\n\n}","import { Pipe, PipeTransform } from '@angular/core';\nimport { DataService } from './multiselect.service';\n\n\n@Pipe({\n    name: 'listFilter',\n    pure: true\n})\nexport class ListFilterPipe implements PipeTransform {\n\n    public filteredList: any = [];\n    constructor(private ds: DataService) {\n\n    }\n\n    transform(items: any[], filter: any, searchBy: any): any[] {\n        if (!items || !filter) {\n            this.ds.setData(items);\n            return items;\n        }\n        this.filteredList = items.filter((item: any) => this.applyFilter(item, filter, searchBy));\n        this.ds.setData(this.filteredList);\n        return this.filteredList;\n    }\n    applyFilter(item: any, filter: any, searchBy: any): boolean {\n        let found = false;\n        if (searchBy.length > 0) {\n            if (item.grpTitle) {\n                found = true;\n            }\n            else {\n                for (var t = 0; t < searchBy.length; t++) {\n                    if (filter && item[searchBy[t]] && item[searchBy[t]] != \"\") {\n                        if (item[searchBy[t]].toString().toLowerCase().indexOf(filter.toLowerCase()) >= 0) {\n                            found = true;\n                        }\n                    }\n                }\n            }\n\n        } else {\n            if (item.grpTitle) {\n                found = true;\n            }\n            else {\n                for (var prop in item) {\n                    if (filter && item[prop]) {\n                        if (item[prop].toString().toLowerCase().indexOf(filter.toLowerCase()) >= 0) {\n                            found = true;\n                        }\n                    }\n                }\n            }\n        }\n\n        return found;\n    }\n}","import { Component, OnInit, OnDestroy, NgModule, TemplateRef, AfterContentInit, ContentChild, EmbeddedViewRef, OnChanges, ViewContainerRef, ViewEncapsulation, Input, Output, EventEmitter, ElementRef, AfterViewInit, Pipe, PipeTransform, Directive } from '@angular/core';\nimport { SafeResourceUrl, DomSanitizer } from '@angular/platform-browser';\nimport { CommonModule }       from '@angular/common';\n\n@Component({\n  selector: 'c-item',\n  template: ``\n})\n\nexport class Item { \n\n    @ContentChild(TemplateRef) template: TemplateRef<any>\n    constructor() {   \n    }\n\n}\n\n@Component({\n  selector: 'c-badge',\n  template: ``\n})\n\nexport class Badge { \n\n    @ContentChild(TemplateRef) template: TemplateRef<any>\n    constructor() {   \n    }\n\n}\n\n@Component({\n  selector: 'c-search',\n  template: ``\n})\n\nexport class Search { \n\n    @ContentChild(TemplateRef) template: TemplateRef<any>\n    constructor() {   \n    }\n\n}\n@Component({\n  selector: 'c-templateRenderer',\n  template: ``\n})\n\nexport class TemplateRenderer implements OnInit, OnDestroy { \n\n    @Input() data: any\n    @Input() item: any\n    view: EmbeddedViewRef<any>;\n\n    constructor(public viewContainer: ViewContainerRef) {   \n    }\n    ngOnInit() {\n        this.view = this.viewContainer.createEmbeddedView(this.data.template, {\n            '\\$implicit': this.data,\n            'item':this.item\n        });\n    }\n\t\n    ngOnDestroy() {\n\t\tthis.view.destroy();\n\t}\n\n}\n\n@Component({\n  selector: 'c-icon',\n  template: `<svg *ngIf=\"name == 'remove'\" width=\"100%\" height=\"100%\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n                        viewBox=\"0 0 47.971 47.971\" style=\"enable-background:new 0 0 47.971 47.971;\" xml:space=\"preserve\">\n                        <g>\n                            <path d=\"M28.228,23.986L47.092,5.122c1.172-1.171,1.172-3.071,0-4.242c-1.172-1.172-3.07-1.172-4.242,0L23.986,19.744L5.121,0.88\n                                c-1.172-1.172-3.07-1.172-4.242,0c-1.172,1.171-1.172,3.071,0,4.242l18.865,18.864L0.879,42.85c-1.172,1.171-1.172,3.071,0,4.242\n                                C1.465,47.677,2.233,47.97,3,47.97s1.535-0.293,2.121-0.879l18.865-18.864L42.85,47.091c0.586,0.586,1.354,0.879,2.121,0.879\n                                s1.535-0.293,2.121-0.879c1.172-1.171,1.172-3.071,0-4.242L28.228,23.986z\"/>\n                        </g>\n                    </svg>\n            <svg *ngIf=\"name == 'angle-down'\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n\t width=\"100%\" height=\"100%\" viewBox=\"0 0 612 612\" style=\"enable-background:new 0 0 612 612;\" xml:space=\"preserve\">\n<g>\n\t<g id=\"_x31_0_34_\">\n\t\t<g>\n\t\t\t<path d=\"M604.501,134.782c-9.999-10.05-26.222-10.05-36.221,0L306.014,422.558L43.721,134.782\n\t\t\t\tc-9.999-10.05-26.223-10.05-36.222,0s-9.999,26.35,0,36.399l279.103,306.241c5.331,5.357,12.422,7.652,19.386,7.296\n\t\t\t\tc6.988,0.356,14.055-1.939,19.386-7.296l279.128-306.268C614.5,161.106,614.5,144.832,604.501,134.782z\"/>\n\t\t</g>\n\t</g>\n</g>\n</svg>\n<svg *ngIf=\"name == 'angle-up'\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n\t width=\"100%\" height=\"100%\" viewBox=\"0 0 612 612\" style=\"enable-background:new 0 0 612 612;\" xml:space=\"preserve\">\n<g>\n\t<g id=\"_x39__30_\">\n\t\t<g>\n\t\t\t<path d=\"M604.501,440.509L325.398,134.956c-5.331-5.357-12.423-7.627-19.386-7.27c-6.989-0.357-14.056,1.913-19.387,7.27\n\t\t\t\tL7.499,440.509c-9.999,10.024-9.999,26.298,0,36.323s26.223,10.024,36.222,0l262.293-287.164L568.28,476.832\n\t\t\t\tc9.999,10.024,26.222,10.024,36.221,0C614.5,466.809,614.5,450.534,604.501,440.509z\"/>\n\t\t</g>\n\t</g>\n</g>\n\n</svg>\n<svg *ngIf=\"name == 'search'\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n\t width=\"100%\" height=\"100%\" viewBox=\"0 0 615.52 615.52\" style=\"enable-background:new 0 0 615.52 615.52;\"\n\t xml:space=\"preserve\">\n<g>\n\t<g>\n\t\t<g id=\"Search__x28_and_thou_shall_find_x29_\">\n\t\t\t<g>\n\t\t\t\t<path d=\"M602.531,549.736l-184.31-185.368c26.679-37.72,42.528-83.729,42.528-133.548C460.75,103.35,357.997,0,231.258,0\n\t\t\t\t\tC104.518,0,1.765,103.35,1.765,230.82c0,127.47,102.753,230.82,229.493,230.82c49.53,0,95.271-15.944,132.78-42.777\n\t\t\t\t\tl184.31,185.366c7.482,7.521,17.292,11.291,27.102,11.291c9.812,0,19.62-3.77,27.083-11.291\n\t\t\t\t\tC617.496,589.188,617.496,564.777,602.531,549.736z M355.9,319.763l-15.042,21.273L319.7,356.174\n\t\t\t\t\tc-26.083,18.658-56.667,28.526-88.442,28.526c-84.365,0-152.995-69.035-152.995-153.88c0-84.846,68.63-153.88,152.995-153.88\n\t\t\t\t\ts152.996,69.034,152.996,153.88C384.271,262.769,374.462,293.526,355.9,319.763z\"/>\n\t\t\t</g>\n\t\t</g>\n\t</g>\n</g>\n\n</svg>\n<svg *ngIf=\"name == 'clear'\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n\t viewBox=\"0 0 51.976 51.976\" style=\"enable-background:new 0 0 51.976 51.976;\" xml:space=\"preserve\">\n<g>\n\t<path d=\"M44.373,7.603c-10.137-10.137-26.632-10.138-36.77,0c-10.138,10.138-10.137,26.632,0,36.77s26.632,10.138,36.77,0\n\t\tC54.51,34.235,54.51,17.74,44.373,7.603z M36.241,36.241c-0.781,0.781-2.047,0.781-2.828,0l-7.425-7.425l-7.778,7.778\n\t\tc-0.781,0.781-2.047,0.781-2.828,0c-0.781-0.781-0.781-2.047,0-2.828l7.778-7.778l-7.425-7.425c-0.781-0.781-0.781-2.048,0-2.828\n\t\tc0.781-0.781,2.047-0.781,2.828,0l7.425,7.425l7.071-7.071c0.781-0.781,2.047-0.781,2.828,0c0.781,0.781,0.781,2.047,0,2.828\n\t\tl-7.071,7.071l7.425,7.425C37.022,34.194,37.022,35.46,36.241,36.241z\"/>\n</g>\n</svg>`,\n  encapsulation: ViewEncapsulation.None,\n\n})\n\nexport class CIcon { \n\n    @Input() name:any;\n\n}","import {\n\tComponent,\n\tContentChild,\n\tElementRef,\n\tEventEmitter,\n\tInput,\n\tNgModule,\n\tNgZone,\n\tOnChanges,\n\tOnDestroy,\n\tOnInit,\n\tOutput,\n\tRenderer2,\n\tViewChild,\n} from '@angular/core';\n\nimport { CommonModule } from '@angular/common';\n\n\nexport interface ChangeEvent {\n\tstart?: number;\n\tend?: number;\n}\n\nexport interface WrapGroupDimensions {\n\tnumberOfKnownWrapGroupChildSizes: number;\n\tsumOfKnownWrapGroupChildWidths: number;\n\tsumOfKnownWrapGroupChildHeights: number;\n\tmaxChildSizePerWrapGroup: WrapGroupDimension[];\n}\n\nexport interface WrapGroupDimension {\n\tchildWidth: number;\n\tchildHeight: number;\n\titems: any[];\n}\n\nexport interface IDimensions {\n\titemCount: number;\n\titemsPerWrapGroup: number;\n\twrapGroupsPerPage: number;\n\titemsPerPage: number;\n\tpageCount_fractional: number;\n\tchildWidth: number;\n\tchildHeight: number;\n\tscrollLength: number;\n}\n\nexport interface IPageInfo {\n\tstartIndex: number;\n\tendIndex: number;\n}\n\nexport interface IPageInfoWithBuffer extends IPageInfo {\n\tstartIndexWithBuffer: number;\n\tendIndexWithBuffer: number;\n}\n\nexport interface IViewport extends IPageInfoWithBuffer {\n\tpadding: number;\n\tscrollLength: number;\n}\n\n@Component({\n\tselector: 'virtual-scroll,[virtualScroll]',\n\texportAs: 'virtualScroll',\n\ttemplate: `\n    <div class=\"total-padding\" #invisiblePadding></div>\n    <div class=\"scrollable-content\" #content>\n      <ng-content></ng-content>\n    </div>\n  `,\n\thost: {\n\t\t'[class.horizontal]': \"horizontal\",\n\t\t'[class.vertical]': \"!horizontal\",\n\t\t'[class.selfScroll]': \"!parentScroll\"\n\t},\n\tstyles: [`\n    :host {\n      position: relative;\n\t  display: block;\n      -webkit-overflow-scrolling: touch;\n    }\n\t\n\t:host.horizontal.selfScroll {\n      overflow-y: visible;\n      overflow-x: auto;\n\t}\n\t:host.vertical.selfScroll {\n      overflow-y: auto;\n      overflow-x: visible;\n\t}\n\t\n    .scrollable-content {\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      max-width: 100vw;\n      max-height: 100vh;\n      position: absolute;\n    }\n\n\t.scrollable-content ::ng-deep > * {\n\t\tbox-sizing: border-box;\n\t}\n\t\n\t:host.horizontal {\n\t\twhite-space: nowrap;\n\t}\n\t\n\t:host.horizontal .scrollable-content {\n\t\tdisplay: flex;\n\t}\n\t\n\t:host.horizontal .scrollable-content ::ng-deep > * {\n\t\tflex-shrink: 0;\n\t\tflex-grow: 0;\n\t\twhite-space: initial;\n\t}\n\t\n    .total-padding {\n      width: 1px;\n      opacity: 0;\n    }\n    \n    :host.horizontal .total-padding {\n      height: 100%;\n    }\n  `]\n})\nexport class VirtualScrollComponent implements OnInit, OnChanges, OnDestroy {\n\tpublic viewPortItems: any[];\n\tpublic window = window;\n\n\tpublic get viewPortIndices(): IPageInfo {\n\t\tlet pageInfo: IPageInfo = this.previousViewPort || <any>{};\n\t\treturn {\n\t\t\tstartIndex: pageInfo.startIndex || 0,\n\t\t\tendIndex: pageInfo.endIndex || 0\n\t\t};\n\t}\n\n\tprotected _enableUnequalChildrenSizes: boolean = false;\n\t@Input()\n\tpublic get enableUnequalChildrenSizes(): boolean {\n\t\treturn this._enableUnequalChildrenSizes;\n\t}\n\tpublic set enableUnequalChildrenSizes(value: boolean) {\n\t\tif (this._enableUnequalChildrenSizes === value) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._enableUnequalChildrenSizes = value;\n\t\tthis.minMeasuredChildWidth = undefined;\n\t\tthis.minMeasuredChildHeight = undefined;\n\t}\n\n\t@Input()\n\tpublic useMarginInsteadOfTranslate: boolean = false;\n\n\t@Input()\n\tpublic scrollbarWidth: number;\n\n\t@Input()\n\tpublic scrollbarHeight: number;\n\n\t@Input()\n\tpublic childWidth: number;\n\n\t@Input()\n\tpublic childHeight: number;\n\n\tprotected _bufferAmount: number = 0;\n\t@Input()\n\tpublic get bufferAmount(): number {\n\t\treturn Math.max(this._bufferAmount, this.enableUnequalChildrenSizes ? 5 : 0);\n\t}\n\tpublic set bufferAmount(value: number) {\n\t\tthis._bufferAmount = value;\n\t}\n\n\t@Input()\n\tpublic scrollAnimationTime: number = 750;\n\n\t@Input()\n\tpublic resizeBypassRefreshTheshold: number = 5;\n\n\tprotected _scrollThrottlingTime: number;\n\t@Input()\n\tpublic get scrollThrottlingTime(): number {\n\t\treturn this._scrollThrottlingTime;\n\t}\n\tpublic set scrollThrottlingTime(value: number) {\n\t\tthis._scrollThrottlingTime = value;\n\t\tthis.refresh_throttled = <any>this.throttleTrailing(() => {\n\t\t\tthis.refresh_internal(false);\n\t\t}, this._scrollThrottlingTime);\n\t}\n\n\tprotected checkScrollElementResizedTimer: number;\n\tprotected _checkResizeInterval: number = 1000;\n\t@Input()\n\tpublic get checkResizeInterval(): number {\n\t\treturn this._checkResizeInterval;\n\t}\n\tpublic set checkResizeInterval(value: number) {\n\t\tif (this._checkResizeInterval === value) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._checkResizeInterval = value;\n\t\tthis.addScrollEventHandlers();\n\t}\n\n\tprotected _items: any[] = [];\n\t@Input()\n\tpublic get items(): any[] {\n\t\treturn this._items;\n\t}\n\tpublic set items(value: any[]) {\n\t\tif (value === this._items) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._items = value || [];\n\t\tthis.refresh_internal(true);\n\t}\n\n\t@Input()\n\tpublic compareItems: (item1: any, item2: any) => boolean = (item1: any, item2: any) => item1 === item2;\n\n\tprotected _horizontal: boolean;\n\t@Input()\n\tpublic get horizontal(): boolean {\n\t\treturn this._horizontal;\n\t}\n\tpublic set horizontal(value: boolean) {\n\t\tthis._horizontal = value;\n\t\tthis.updateDirection();\n\t}\n\n\tprotected revertParentOverscroll(): void {\n\t\tconst scrollElement: any = this.getScrollElement();\n\t\tif (scrollElement && this.oldParentScrollOverflow) {\n\t\t\tscrollElement.style['overflow-y'] = this.oldParentScrollOverflow.y;\n\t\t\tscrollElement.style['overflow-x'] = this.oldParentScrollOverflow.x;\n\t\t}\n\n\t\tthis.oldParentScrollOverflow = undefined;\n\t}\n\n\tprotected oldParentScrollOverflow: { x: string, y: string };\n\tprotected _parentScroll: Element | Window;\n\t@Input()\n\tpublic get parentScroll(): Element | Window {\n\t\treturn this._parentScroll;\n\t}\n\tpublic set parentScroll(value: Element | Window) {\n\t\tif (this._parentScroll === value) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.revertParentOverscroll();\n\t\tthis._parentScroll = value;\n\t\tthis.addScrollEventHandlers();\n\n\t\tconst scrollElement:any = this.getScrollElement();\n\t\tif (scrollElement !== this.element.nativeElement) {\n\t\t\tthis.oldParentScrollOverflow = { x: scrollElement.style['overflow-x'], y: scrollElement.style['overflow-y'] };\n\t\t\tscrollElement.style['overflow-y'] = this.horizontal ? 'visible' : 'auto';\n\t\t\tscrollElement.style['overflow-x'] = this.horizontal ? 'auto' : 'visible';\n\t\t}\n\t}\n\n\t@Output()\n\tpublic update: EventEmitter<any[]> = new EventEmitter<any[]>();\n\t@Output()\n\tpublic vsUpdate: EventEmitter<any[]> = new EventEmitter<any[]>();\n\n\t@Output()\n\tpublic change: EventEmitter<ChangeEvent> = new EventEmitter<ChangeEvent>();\n\t@Output()\n\tpublic vsChange: EventEmitter<ChangeEvent> = new EventEmitter<ChangeEvent>();\n\n\t@Output()\n\tpublic start: EventEmitter<ChangeEvent> = new EventEmitter<ChangeEvent>();\n\t@Output()\n\tpublic vsStart: EventEmitter<ChangeEvent> = new EventEmitter<ChangeEvent>();\n\n\t@Output()\n\tpublic end: EventEmitter<ChangeEvent> = new EventEmitter<ChangeEvent>();\n\t@Output()\n\tpublic vsEnd: EventEmitter<ChangeEvent> = new EventEmitter<ChangeEvent>();\n\n\t@ViewChild('content', { read: ElementRef })\n\tpublic contentElementRef: ElementRef;\n\n\t@ViewChild('invisiblePadding', { read: ElementRef })\n\tpublic invisiblePaddingElementRef: ElementRef;\n\n\t@ContentChild('container', { read: ElementRef })\n\tpublic containerElementRef: ElementRef;\n\n\tpublic ngOnInit() {\n\t\tthis.addScrollEventHandlers();\n\t}\n\n\tpublic ngOnDestroy() {\n\t\tthis.removeScrollEventHandlers();\n\t\tthis.revertParentOverscroll();\n\t}\n\n\tpublic ngOnChanges(changes: any) {\n\t\tlet indexLengthChanged: any = this.cachedItemsLength !== this.items.length;\n\t\tthis.cachedItemsLength = this.items.length;\n\n\t\tconst firstRun: boolean = !changes.items || !changes.items.previousValue || changes.items.previousValue.length === 0;\n\t\tthis.refresh_internal(indexLengthChanged || firstRun);\n\t}\n\n\tpublic ngDoCheck() {\n\t\tif (this.cachedItemsLength !== this.items.length) {\n\t\t\tthis.cachedItemsLength = this.items.length;\n\t\t\tthis.refresh_internal(true);\n\t\t}\n\t}\n\n\tpublic refresh() {\n\t\tthis.refresh_internal(true);\n\t}\n\n\tpublic scrollInto(item: any, alignToBeginning: boolean = true, additionalOffset: number = 0, animationMilliseconds: number = undefined, animationCompletedCallback: () => void = undefined) {\n\t\tlet index: number = this.items.indexOf(item);\n\t\tif (index === -1) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.scrollToIndex(index, alignToBeginning, additionalOffset, animationMilliseconds, animationCompletedCallback);\n\t}\n\n\tpublic scrollToIndex(index: number, alignToBeginning: boolean = true, additionalOffset: number = 0, animationMilliseconds: number = undefined, animationCompletedCallback: () => void = undefined) {\n\t\tlet maxRetries: number = 5;\n\n\t\tlet retryIfNeeded = () => {\n\t\t\t--maxRetries;\n\t\t\tif (maxRetries <= 0) {\n\t\t\t\tif (animationCompletedCallback) {\n\t\t\t\t\tanimationCompletedCallback();\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet dimensions: any = this.calculateDimensions();\n\t\t\tlet desiredStartIndex: any = Math.min(Math.max(index, 0), dimensions.itemCount - 1);\n\t\t\tif (this.previousViewPort.startIndex === desiredStartIndex) {\n\t\t\t\tif (animationCompletedCallback) {\n\t\t\t\t\tanimationCompletedCallback();\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.scrollToIndex_internal(index, alignToBeginning, additionalOffset, 0, retryIfNeeded);\n\t\t};\n\n\t\tthis.scrollToIndex_internal(index, alignToBeginning, additionalOffset, animationMilliseconds, retryIfNeeded);\n\t}\n\n\tprotected scrollToIndex_internal(index: number, alignToBeginning: boolean = true, additionalOffset: number = 0, animationMilliseconds: number = undefined, animationCompletedCallback: () => void = undefined) {\n\t\tanimationMilliseconds = animationMilliseconds === undefined ? this.scrollAnimationTime : animationMilliseconds;\n\n\t\tlet scrollElement: any = this.getScrollElement();\n\t\tlet offset: any = this.getElementsOffset();\n\n\t\tlet dimensions: any = this.calculateDimensions();\n\t\tlet scroll: any = this.calculatePadding(index, dimensions, false) + offset + additionalOffset;\n\t\tif (!alignToBeginning) {\n\t\t\tscroll -= dimensions.wrapGroupsPerPage * dimensions[this._childScrollDim];\n\t\t}\n\n\t\tlet animationRequest: number;\n\n\n\t\tif (!animationMilliseconds) {\n\t\t\tthis.renderer.setProperty(scrollElement, this._scrollType, scroll);\n\t\t\tthis.refresh_internal(false, animationCompletedCallback);\n\t\t\treturn;\n\t\t}\n\n\t\n\t}\n\n\tconstructor(protected readonly element: ElementRef, protected readonly renderer: Renderer2, protected readonly zone: NgZone) {\n\t\tthis.horizontal = false;\n\t\tthis.scrollThrottlingTime = 0;\n\t\tthis.resetWrapGroupDimensions();\n\t}\n\n\tprotected previousScrollBoundingRect: ClientRect;\n\tprotected checkScrollElementResized(): void {\n\t\tlet boundingRect: any = this.getScrollElement().getBoundingClientRect();\n\n\t\tlet sizeChanged: boolean;\n\t\tif (!this.previousScrollBoundingRect) {\n\t\t\tsizeChanged = true;\n\t\t} else {\n\t\t\tlet widthChange: any = Math.abs(boundingRect.width - this.previousScrollBoundingRect.width);\n\t\t\tlet heightChange: any = Math.abs(boundingRect.height - this.previousScrollBoundingRect.height);\n\t\t\tsizeChanged = widthChange > this.resizeBypassRefreshTheshold || heightChange > this.resizeBypassRefreshTheshold;\n\t\t}\n\n\t\tif (sizeChanged) {\n\t\t\tthis.previousScrollBoundingRect = boundingRect;\n\t\t\tif (boundingRect.width > 0 && boundingRect.height > 0) {\n\t\t\t\tthis.refresh_internal(false);\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected _invisiblePaddingProperty: any;\n\tprotected _offsetType: any;\n\tprotected _scrollType: any;\n\tprotected _pageOffsetType: any;\n\tprotected _childScrollDim: any;\n\tprotected _translateDir: any;\n\tprotected _marginDir: any;\n\tprotected updateDirection(): void {\n\t\tif (this.horizontal) {\n\t\t\tthis._invisiblePaddingProperty = 'width';\n\t\t\tthis._offsetType = 'offsetLeft';\n\t\t\tthis._pageOffsetType = 'pageXOffset';\n\t\t\tthis._childScrollDim = 'childWidth';\n\t\t\tthis._marginDir = 'margin-left';\n\t\t\tthis._translateDir = 'translateX';\n\t\t\tthis._scrollType = 'scrollLeft';\n\t\t}\n\t\telse {\n\t\t\tthis._invisiblePaddingProperty = 'height';\n\t\t\tthis._offsetType = 'offsetTop';\n\t\t\tthis._pageOffsetType = 'pageYOffset';\n\t\t\tthis._childScrollDim = 'childHeight';\n\t\t\tthis._marginDir = 'margin-top';\n\t\t\tthis._translateDir = 'translateY';\n\t\t\tthis._scrollType = 'scrollTop';\n\t\t}\n\t}\n\n\tprotected refresh_throttled: () => void;\n\n\tprotected throttleTrailing(func: Function, wait: number): Function {\n\t\tlet timeout: any = undefined;\n\t\tconst result = function () {\n\t\t\tconst _this = this;\n\t\t\tconst _arguments = arguments;\n\n\t\t\tif (timeout) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (wait <= 0) {\n\t\t\t\tfunc.apply(_this, _arguments);\n\t\t\t} else {\n\t\t\t\ttimeout = setTimeout(function () {\n\t\t\t\t\ttimeout = undefined;\n\t\t\t\t\tfunc.apply(_this, _arguments);\n\t\t\t\t}, wait);\n\t\t\t}\n\t\t};\n\n\t\treturn result;\n\t}\n\n\tprotected calculatedScrollbarWidth: number = 0;\n\tprotected calculatedScrollbarHeight: number = 0;\n\n\tprotected padding: number = 0;\n\tprotected previousViewPort: IViewport = <any>{};\n\tprotected cachedItemsLength: number;\n\n\tprotected disposeScrollHandler: () => void | undefined;\n\tprotected disposeResizeHandler: () => void | undefined;\n\n\tprotected refresh_internal(itemsArrayModified: boolean, refreshCompletedCallback: () => void = undefined, maxRunTimes: number = 2) {\n\t\t//note: maxRunTimes is to force it to keep recalculating if the previous iteration caused a re-render (different sliced items in viewport or scrollPosition changed).\n\t\t//The default of 2x max will probably be accurate enough without causing too large a performance bottleneck\n\t\t//The code would typically quit out on the 2nd iteration anyways. The main time it'd think more than 2 runs would be necessary would be for vastly different sized child items or if this is the 1st time the items array was initialized.\n\t\t//Without maxRunTimes, If the user is actively scrolling this code would become an infinite loop until they stopped scrolling. This would be okay, except each scroll event would start an additional infinte loop. We want to short-circuit it to prevent his.\n\n\t\tthis.zone.runOutsideAngular(() => {\n\t\t\trequestAnimationFrame(() => {\n\n\t\t\t\tif (itemsArrayModified) {\n\t\t\t\t\tthis.resetWrapGroupDimensions();\n\t\t\t\t}\n\t\t\t\tlet viewport: any = this.calculateViewport();\n\n\t\t\t\tlet startChanged: any = itemsArrayModified || viewport.startIndex !== this.previousViewPort.startIndex;\n\t\t\t\tlet endChanged: any = itemsArrayModified || viewport.endIndex !== this.previousViewPort.endIndex;\n\t\t\t\tlet scrollLengthChanged: any = viewport.scrollLength !== this.previousViewPort.scrollLength;\n\t\t\t\tlet paddingChanged: any = viewport.padding !== this.previousViewPort.padding;\n\n\t\t\t\tthis.previousViewPort = viewport;\n\n\t\t\t\tif (scrollLengthChanged) {\n\t\t\t\t\tthis.renderer.setStyle(this.invisiblePaddingElementRef.nativeElement, this._invisiblePaddingProperty, `${viewport.scrollLength}px`);\n\t\t\t\t}\n\n\t\t\t\tif (paddingChanged) {\n\t\t\t\t\tif (this.useMarginInsteadOfTranslate) {\n\t\t\t\t\t\tthis.renderer.setStyle(this.contentElementRef.nativeElement, this._marginDir, `${viewport.padding}px`);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.renderer.setStyle(this.contentElementRef.nativeElement, 'transform', `${this._translateDir}(${viewport.padding}px)`);\n\t\t\t\t\t\tthis.renderer.setStyle(this.contentElementRef.nativeElement, 'webkitTransform', `${this._translateDir}(${viewport.padding}px)`);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet emitIndexChangedEvents: any = true; // maxReRunTimes === 1 (would need to still run if didn't update if previous iteration had updated)\n\n\t\t\t\tif (startChanged || endChanged) {\n\t\t\t\t\tthis.zone.run(() => {\n\n\t\t\t\t\t\t// update the scroll list to trigger re-render of components in viewport\n\t\t\t\t\t\tthis.viewPortItems = viewport.startIndexWithBuffer >= 0 && viewport.endIndexWithBuffer >= 0 ? this.items.slice(viewport.startIndexWithBuffer, viewport.endIndexWithBuffer + 1) : [];\n\t\t\t\t\t\tthis.update.emit(this.viewPortItems);\n\t\t\t\t\t\tthis.vsUpdate.emit(this.viewPortItems);\n\n\t\t\t\t\t\tif (emitIndexChangedEvents) {\n\t\t\t\t\t\t\tif (startChanged) {\n\t\t\t\t\t\t\t\tthis.start.emit({ start: viewport.startIndex, end: viewport.endIndex });\n\t\t\t\t\t\t\t\tthis.vsStart.emit({ start: viewport.startIndex, end: viewport.endIndex });\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (endChanged) {\n\t\t\t\t\t\t\t\tthis.end.emit({ start: viewport.startIndex, end: viewport.endIndex });\n\t\t\t\t\t\t\t\tthis.vsEnd.emit({ start: viewport.startIndex, end: viewport.endIndex });\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (startChanged || endChanged) {\n\t\t\t\t\t\t\t\tthis.change.emit({ start: viewport.startIndex, end: viewport.endIndex });\n\t\t\t\t\t\t\t\tthis.vsChange.emit({ start: viewport.startIndex, end: viewport.endIndex });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (maxRunTimes > 0) {\n\t\t\t\t\t\t\tthis.refresh_internal(false, refreshCompletedCallback, maxRunTimes - 1);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (refreshCompletedCallback) {\n\t\t\t\t\t\t\trefreshCompletedCallback();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tif (maxRunTimes > 0 && (scrollLengthChanged || paddingChanged)) {\n\t\t\t\t\t\tthis.refresh_internal(false, refreshCompletedCallback, maxRunTimes - 1);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (refreshCompletedCallback) {\n\t\t\t\t\t\trefreshCompletedCallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tprotected getScrollElement(): any {\n\t\treturn this.parentScroll instanceof Window ? document.scrollingElement || document.documentElement || document.body : this.parentScroll || this.element.nativeElement;\n\t}\n\n\tprotected addScrollEventHandlers() {\n\t\tlet scrollElement: any = this.getScrollElement();\n\n\t\tthis.removeScrollEventHandlers();\n\n\t\tthis.zone.runOutsideAngular(() => {\n\t\t\tif (this.parentScroll instanceof Window) {\n\t\t\t\tthis.disposeScrollHandler = this.renderer.listen('window', 'scroll', this.refresh_throttled);\n\t\t\t\tthis.disposeResizeHandler = this.renderer.listen('window', 'resize', this.refresh_throttled);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.disposeScrollHandler = this.renderer.listen(scrollElement, 'scroll', this.refresh_throttled);\n\t\t\t\tif (this._checkResizeInterval > 0) {\n\t\t\t\t\tthis.checkScrollElementResizedTimer = <any>setInterval(() => { this.checkScrollElementResized(); }, this._checkResizeInterval);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tprotected removeScrollEventHandlers() {\n\t\tif (this.checkScrollElementResizedTimer) {\n\t\t\tclearInterval(this.checkScrollElementResizedTimer);\n\t\t}\n\n\t\tif (this.disposeScrollHandler) {\n\t\t\tthis.disposeScrollHandler();\n\t\t\tthis.disposeScrollHandler = undefined;\n\t\t}\n\n\t\tif (this.disposeResizeHandler) {\n\t\t\tthis.disposeResizeHandler();\n\t\t\tthis.disposeResizeHandler = undefined;\n\t\t}\n\t}\n\n\tprotected getElementsOffset(): number {\n\t\tlet offset: any = 0;\n\n\t\tif (this.containerElementRef && this.containerElementRef.nativeElement) {\n\t\t\toffset += this.containerElementRef.nativeElement[this._offsetType];\n\t\t}\n\n\t\tif (this.parentScroll) {\n\t\t\tlet scrollElement: any = this.getScrollElement();\n\t\t\tlet elementClientRect: any = this.element.nativeElement.getBoundingClientRect();\n\t\t\tlet scrollClientRect: any = scrollElement.getBoundingClientRect();\n\t\t\tif (this.horizontal) {\n\t\t\t\toffset += elementClientRect.left - scrollClientRect.left;\n\t\t\t}\n\t\t\telse {\n\t\t\t\toffset += elementClientRect.top - scrollClientRect.top;\n\t\t\t}\n\n\t\t\tif (!(this.parentScroll instanceof Window)) {\n\t\t\t\toffset += scrollElement[this._scrollType];\n\t\t\t}\n\t\t}\n\n\t\treturn offset;\n\t}\n\n\tprotected countItemsPerWrapGroup() {\n\t\tlet propertyName: any = this.horizontal ? 'offsetLeft' : 'offsetTop';\n\t\tlet children: any = ((this.containerElementRef && this.containerElementRef.nativeElement) || this.contentElementRef.nativeElement).children;\n\n\t\tlet childrenLength: any = children ? children.length : 0;\n\t\tif (childrenLength === 0) {\n\t\t\treturn 1;\n\t\t}\n\n\t\tlet firstOffset: any = children[0][propertyName];\n\t\tlet result: any = 1;\n\t\twhile (result < childrenLength && firstOffset === children[result][propertyName]) {\n\t\t\t++result;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tprotected getScrollPosition(): number {\n\t\tlet windowScrollValue: number = undefined;\n\t\tif (this.parentScroll instanceof Window) {\n\t\t\tvar window: any;\n\t\t\twindowScrollValue = window[this._pageOffsetType];\n\t\t}\n\n\t\treturn windowScrollValue || this.getScrollElement()[this._scrollType] || 0;\n\t}\n\n\tprotected minMeasuredChildWidth: number;\n\tprotected minMeasuredChildHeight: number;\n\n\tprotected wrapGroupDimensions: any;\n\n\tprotected resetWrapGroupDimensions(): void {\n\t\tconst oldWrapGroupDimensions = this.wrapGroupDimensions;\n\t\tthis.wrapGroupDimensions = {\n\t\t\tmaxChildSizePerWrapGroup: [],\n\t\t\tnumberOfKnownWrapGroupChildSizes: 0,\n\t\t\tsumOfKnownWrapGroupChildWidths: 0,\n\t\t\tsumOfKnownWrapGroupChildHeights: 0\n\t\t};\n\n\t\tif (!this.enableUnequalChildrenSizes || !oldWrapGroupDimensions || oldWrapGroupDimensions.numberOfKnownWrapGroupChildSizes === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst itemsPerWrapGroup: number = this.countItemsPerWrapGroup();\n\t\tfor (let wrapGroupIndex: any = 0; wrapGroupIndex < oldWrapGroupDimensions.maxChildSizePerWrapGroup.length; ++wrapGroupIndex) {\n\t\t\tconst oldWrapGroupDimension: WrapGroupDimension = oldWrapGroupDimensions.maxChildSizePerWrapGroup[wrapGroupIndex];\n\t\t\tif (!oldWrapGroupDimension || !oldWrapGroupDimension.items || !oldWrapGroupDimension.items.length) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (oldWrapGroupDimension.items.length !== itemsPerWrapGroup) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet itemsChanged: any = false;\n\t\t\tlet arrayStartIndex: any = itemsPerWrapGroup * wrapGroupIndex;\n\t\t\tfor (let i = 0; i < itemsPerWrapGroup; ++i) {\n\t\t\t\tif (!this.compareItems(oldWrapGroupDimension.items[i], this.items[arrayStartIndex + i])) {\n\t\t\t\t\titemsChanged = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!itemsChanged) {\n\t\t\t\t++this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;\n\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths += oldWrapGroupDimension.childWidth || 0;\n\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights += oldWrapGroupDimension.childHeight || 0;\n\t\t\t\tthis.wrapGroupDimensions.maxChildSizePerWrapGroup[wrapGroupIndex] = oldWrapGroupDimension;\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected calculateDimensions(): IDimensions {\n\t\tlet scrollElement: any = this.getScrollElement();\n\t\tlet itemCount: any = this.items.length;\n\n\t\tconst maxCalculatedScrollBarSize: number = 25; // Note: Formula to auto-calculate doesn't work for ParentScroll, so we default to this if not set by consuming application\n\t\tthis.calculatedScrollbarHeight = Math.max(Math.min(scrollElement.offsetHeight - scrollElement.clientHeight, maxCalculatedScrollBarSize), this.calculatedScrollbarHeight);\n\t\tthis.calculatedScrollbarWidth = Math.max(Math.min(scrollElement.offsetWidth - scrollElement.clientWidth, maxCalculatedScrollBarSize), this.calculatedScrollbarWidth);\n\n\t\tlet viewWidth: any = scrollElement.offsetWidth - (this.scrollbarWidth || this.calculatedScrollbarWidth || (this.horizontal ? 0 : maxCalculatedScrollBarSize));\n\t\tlet viewHeight: any = scrollElement.offsetHeight - (this.scrollbarHeight || this.calculatedScrollbarHeight || (this.horizontal ? maxCalculatedScrollBarSize : 0));\n\n\t\tlet content: any = (this.containerElementRef && this.containerElementRef.nativeElement) || this.contentElementRef.nativeElement;\n\n\t\tlet itemsPerWrapGroup: any = this.countItemsPerWrapGroup();\n\t\tlet wrapGroupsPerPage: any;\n\n\t\tlet defaultChildWidth: any;\n\t\tlet defaultChildHeight: any;\n\n\t\tif (!this.enableUnequalChildrenSizes) {\n\t\t\tif (content.children.length > 0) {\n\t\t\t\tif (!this.childWidth || !this.childHeight) {\n\t\t\t\t\tif (!this.minMeasuredChildWidth && viewWidth > 0) {\n\t\t\t\t\t\tthis.minMeasuredChildWidth = viewWidth;\n\t\t\t\t\t}\n\t\t\t\t\tif (!this.minMeasuredChildHeight && viewHeight > 0) {\n\t\t\t\t\t\tthis.minMeasuredChildHeight = viewHeight;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet child: any = content.children[0];\n\t\t\t\tlet clientRect: any = child.getBoundingClientRect();\n\t\t\t\tthis.minMeasuredChildWidth = Math.min(this.minMeasuredChildWidth, clientRect.width);\n\t\t\t\tthis.minMeasuredChildHeight = Math.min(this.minMeasuredChildHeight, clientRect.height);\n\t\t\t}\n\n\t\t\tdefaultChildWidth = this.childWidth || this.minMeasuredChildWidth || viewWidth;\n\t\t\tdefaultChildHeight = this.childHeight || this.minMeasuredChildHeight || viewHeight;\n\t\t\tlet itemsPerRow: any = Math.max(Math.ceil(viewWidth / defaultChildWidth), 1);\n\t\t\tlet itemsPerCol: any = Math.max(Math.ceil(viewHeight / defaultChildHeight), 1);\n\t\t\twrapGroupsPerPage = this.horizontal ? itemsPerRow : itemsPerCol;\n\t\t} else {\n\t\t\tlet scrollOffset: any = scrollElement[this._scrollType] - (this.previousViewPort ? this.previousViewPort.padding : 0);\n\t\t\t\n\t\t\tlet arrayStartIndex: any = this.previousViewPort.startIndexWithBuffer || 0;\n\t\t\tlet wrapGroupIndex: any = Math.ceil(arrayStartIndex / itemsPerWrapGroup);\n\n\t\t\tlet maxWidthForWrapGroup: any = 0;\n\t\t\tlet maxHeightForWrapGroup: any = 0;\n\t\t\tlet sumOfVisibleMaxWidths: any = 0;\n\t\t\tlet sumOfVisibleMaxHeights: any = 0;\n\t\t\twrapGroupsPerPage = 0;\n\n\t\t\tfor (let i = 0; i < content.children.length; ++i) {\n\t\t\t\t++arrayStartIndex;\n\t\t\t\tlet child: any = content.children[i];\n\t\t\t\tlet clientRect: any = child.getBoundingClientRect();\n\n\t\t\t\tmaxWidthForWrapGroup = Math.max(maxWidthForWrapGroup, clientRect.width);\n\t\t\t\tmaxHeightForWrapGroup = Math.max(maxHeightForWrapGroup, clientRect.height);\n\n\t\t\t\tif (arrayStartIndex % itemsPerWrapGroup === 0) {\n\t\t\t\t\tlet oldValue: any = this.wrapGroupDimensions.maxChildSizePerWrapGroup[wrapGroupIndex];\n\t\t\t\t\tif (oldValue) {\n\t\t\t\t\t\t--this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;\n\t\t\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths -= oldValue.childWidth || 0;\n\t\t\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights -= oldValue.childHeight || 0;\n\t\t\t\t\t}\n\n\t\t\t\t\t++this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;\n\t\t\t\t\tconst items = this.items.slice(arrayStartIndex - itemsPerWrapGroup, arrayStartIndex);\n\t\t\t\t\tthis.wrapGroupDimensions.maxChildSizePerWrapGroup[wrapGroupIndex] = {\n\t\t\t\t\t\tchildWidth: maxWidthForWrapGroup,\n\t\t\t\t\t\tchildHeight: maxHeightForWrapGroup,\n\t\t\t\t\t\titems: items\n\t\t\t\t\t};\n\t\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths += maxWidthForWrapGroup;\n\t\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights += maxHeightForWrapGroup;\n\n\t\t\t\t\tif (this.horizontal) {\n\t\t\t\t\t\tlet maxVisibleWidthForWrapGroup: any = Math.min(maxWidthForWrapGroup, Math.max(viewWidth - sumOfVisibleMaxWidths, 0));\n\t\t\t\t\t\tif (scrollOffset > 0) {\n\t\t\t\t\t\t\tlet scrollOffsetToRemove: any = Math.min(scrollOffset, maxVisibleWidthForWrapGroup);\n\t\t\t\t\t\t\tmaxVisibleWidthForWrapGroup -= scrollOffsetToRemove;\n\t\t\t\t\t\t\tscrollOffset -= scrollOffsetToRemove;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsumOfVisibleMaxWidths += maxVisibleWidthForWrapGroup;\n\t\t\t\t\t\tif (maxVisibleWidthForWrapGroup > 0 && viewWidth >= sumOfVisibleMaxWidths) {\n\t\t\t\t\t\t\t++wrapGroupsPerPage;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet maxVisibleHeightForWrapGroup: any = Math.min(maxHeightForWrapGroup, Math.max(viewHeight - sumOfVisibleMaxHeights, 0));\n\t\t\t\t\t\tif (scrollOffset > 0) {\n\t\t\t\t\t\t\tlet scrollOffsetToRemove: any = Math.min(scrollOffset, maxVisibleHeightForWrapGroup);\n\t\t\t\t\t\t\tmaxVisibleHeightForWrapGroup -= scrollOffsetToRemove;\n\t\t\t\t\t\t\tscrollOffset -= scrollOffsetToRemove;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsumOfVisibleMaxHeights += maxVisibleHeightForWrapGroup;\n\t\t\t\t\t\tif (maxVisibleHeightForWrapGroup > 0 && viewHeight >= sumOfVisibleMaxHeights) {\n\t\t\t\t\t\t\t++wrapGroupsPerPage;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t++wrapGroupIndex;\n\n\t\t\t\t\tmaxWidthForWrapGroup = 0;\n\t\t\t\t\tmaxHeightForWrapGroup = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet averageChildWidth: any = this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths / this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;\n\t\t\tlet averageChildHeight: any = this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights / this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;\n\t\t\tdefaultChildWidth = this.childWidth || averageChildWidth || viewWidth;\n\t\t\tdefaultChildHeight = this.childHeight || averageChildHeight || viewHeight;\n\n\t\t\tif (this.horizontal) {\n\t\t\t\tif (viewWidth > sumOfVisibleMaxWidths) {\n\t\t\t\t\twrapGroupsPerPage += Math.ceil((viewWidth - sumOfVisibleMaxWidths) / defaultChildWidth);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (viewHeight > sumOfVisibleMaxHeights) {\n\t\t\t\t\twrapGroupsPerPage += Math.ceil((viewHeight - sumOfVisibleMaxHeights) / defaultChildHeight);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet itemsPerPage: any = itemsPerWrapGroup * wrapGroupsPerPage;\n\t\tlet pageCount_fractional: any = itemCount / itemsPerPage;\n\t\tlet numberOfWrapGroups: any = Math.ceil(itemCount / itemsPerWrapGroup);\n\n\t\tlet scrollLength: any = 0;\n\n\t\tlet defaultScrollLengthPerWrapGroup: any = this.horizontal ? defaultChildWidth : defaultChildHeight;\n\t\tif (this.enableUnequalChildrenSizes) {\n\t\t\tlet numUnknownChildSizes:any = 0;\n\t\t\tfor (let i:any = 0; i < numberOfWrapGroups; ++i) {\n\t\t\t\tlet childSize: any = this.wrapGroupDimensions.maxChildSizePerWrapGroup[i] && this.wrapGroupDimensions.maxChildSizePerWrapGroup[i][this._childScrollDim];\n\t\t\t\tif (childSize) {\n\t\t\t\t\tscrollLength += childSize;\n\t\t\t\t} else {\n\t\t\t\t\t++numUnknownChildSizes;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tscrollLength += Math.round(numUnknownChildSizes * defaultScrollLengthPerWrapGroup);\n\t\t} else {\n\t\t\tscrollLength = numberOfWrapGroups * defaultScrollLengthPerWrapGroup;\n\t\t}\n\n\t\treturn {\n\t\t\titemCount: itemCount,\n\t\t\titemsPerWrapGroup: itemsPerWrapGroup,\n\t\t\twrapGroupsPerPage: wrapGroupsPerPage,\n\t\t\titemsPerPage: itemsPerPage,\n\t\t\tpageCount_fractional: pageCount_fractional,\n\t\t\tchildWidth: defaultChildWidth,\n\t\t\tchildHeight: defaultChildHeight,\n\t\t\tscrollLength: scrollLength\n\t\t};\n\t}\n\n\tprotected cachedPageSize: number = 0;\n\tprotected previousScrollNumberElements: number = 0;\n\n\tprotected calculatePadding(arrayStartIndexWithBuffer: number, dimensions: any, allowUnequalChildrenSizes_Experimental: boolean): number {\n\t\tif (dimensions.itemCount === 0) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tlet defaultScrollLengthPerWrapGroup: number = dimensions[this._childScrollDim];\n\t\tlet startingWrapGroupIndex: number = Math.ceil(arrayStartIndexWithBuffer / dimensions.itemsPerWrapGroup) || 0;\n\n\t\tif (!this.enableUnequalChildrenSizes) {\n\t\t\treturn defaultScrollLengthPerWrapGroup * startingWrapGroupIndex;\n\t\t}\n\n\t\tlet numUnknownChildSizes: any = 0;\n\t\tlet result: any = 0;\n\t\tfor (let i = 0; i < startingWrapGroupIndex; ++i) {\n\t\t\tlet childSize: WrapGroupDimension = this.wrapGroupDimensions.maxChildSizePerWrapGroup[i] && this.wrapGroupDimensions.maxChildSizePerWrapGroup[i][this._childScrollDim];\n\t\t\tif (childSize) {\n\t\t\t\tresult += childSize;\n\t\t\t} else {\n\t\t\t\t++numUnknownChildSizes;\n\t\t\t}\n\t\t}\n\t\tresult += Math.round(numUnknownChildSizes * defaultScrollLengthPerWrapGroup);\n\n\t\treturn result;\n\t}\n\n\tprotected calculatePageInfo(scrollPosition: number, dimensions: any): IPageInfoWithBuffer {\n\t\tlet scrollPercentage: any = 0;\n\t\tif (this.enableUnequalChildrenSizes) {\n\t\t\tconst numberOfWrapGroups:any = Math.ceil(dimensions.itemCount / dimensions.itemsPerWrapGroup);\n\t\t\tlet totalScrolledLength: any = 0;\n\t\t\tlet defaultScrollLengthPerWrapGroup: any = dimensions[this._childScrollDim];\n\t\t\tfor (let i = 0; i < numberOfWrapGroups; ++i) {\n\t\t\t\tlet childSize: any = this.wrapGroupDimensions.maxChildSizePerWrapGroup[i] && this.wrapGroupDimensions.maxChildSizePerWrapGroup[i][this._childScrollDim];\n\t\t\t\tif (childSize) {\n\t\t\t\t\ttotalScrolledLength += childSize;\n\t\t\t\t} else {\n\t\t\t\t\ttotalScrolledLength += defaultScrollLengthPerWrapGroup;\n\t\t\t\t}\n\n\t\t\t\tif (scrollPosition < totalScrolledLength) {\n\t\t\t\t\tscrollPercentage = i / numberOfWrapGroups;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tscrollPercentage = scrollPosition / dimensions.scrollLength;\n\t\t}\n\n\t\tlet startingArrayIndex_fractional: any = Math.min(Math.max(scrollPercentage * dimensions.pageCount_fractional, 0), dimensions.pageCount_fractional) * dimensions.itemsPerPage;\n\n\t\tlet maxStart: any = dimensions.itemCount - dimensions.itemsPerPage - 1;\n\t\tlet arrayStartIndex: any = Math.min(Math.floor(startingArrayIndex_fractional), maxStart);\n\t\tarrayStartIndex -= arrayStartIndex % dimensions.itemsPerWrapGroup; // round down to start of wrapGroup\n\n\t\tlet arrayEndIndex: any = Math.ceil(startingArrayIndex_fractional) + dimensions.itemsPerPage - 1;\n\t\tarrayEndIndex += (dimensions.itemsPerWrapGroup - ((arrayEndIndex + 1) % dimensions.itemsPerWrapGroup)); // round up to end of wrapGroup\n\n\t\tif (isNaN(arrayStartIndex)) {\n\t\t\tarrayStartIndex = 0;\n\t\t}\n\t\tif (isNaN(arrayEndIndex)) {\n\t\t\tarrayEndIndex = 0;\n\t\t}\n\n\t\tarrayStartIndex = Math.min(Math.max(arrayStartIndex, 0), dimensions.itemCount - 1);\n\t\tarrayEndIndex = Math.min(Math.max(arrayEndIndex, 0), dimensions.itemCount - 1);\n\n\t\tlet bufferSize: any = this.bufferAmount * dimensions.itemsPerWrapGroup;\n\t\tlet startIndexWithBuffer: any = Math.min(Math.max(arrayStartIndex - bufferSize, 0), dimensions.itemCount - 1);\n\t\tlet endIndexWithBuffer: any = Math.min(Math.max(arrayEndIndex + bufferSize, 0), dimensions.itemCount - 1);\n\n\t\treturn {\n\t\t\tstartIndex: arrayStartIndex,\n\t\t\tendIndex: arrayEndIndex,\n\t\t\tstartIndexWithBuffer: startIndexWithBuffer,\n\t\t\tendIndexWithBuffer: endIndexWithBuffer\n\t\t};\n\t}\n\n\tprotected calculateViewport(): IViewport {\n\t\tlet dimensions: IDimensions = this.calculateDimensions();\n\t\tlet offset: any = this.getElementsOffset();\n\n\t\tlet scrollPosition: any = this.getScrollPosition();\n\t\tif (scrollPosition > dimensions.scrollLength && !(this.parentScroll instanceof Window)) {\n\t\t\tscrollPosition = dimensions.scrollLength;\n\t\t} else {\n\t\t\tscrollPosition -= offset;\n\t\t}\n\t\tscrollPosition = Math.max(0, scrollPosition);\n\n\t\tlet pageInfo: any = this.calculatePageInfo(scrollPosition, dimensions);\n\t\tlet newPadding: any = this.calculatePadding(pageInfo.startIndexWithBuffer, dimensions, true);\n\t\tlet newScrollLength: any = dimensions.scrollLength;\n\n\t\treturn {\n\t\t\tstartIndex: pageInfo.startIndex,\n\t\t\tendIndex: pageInfo.endIndex,\n\t\t\tstartIndexWithBuffer: pageInfo.startIndexWithBuffer,\n\t\t\tendIndexWithBuffer: pageInfo.endIndexWithBuffer,\n\t\t\tpadding: Math.round(newPadding),\n\t\t\tscrollLength: Math.round(newScrollLength)\n\t\t};\n\t}\n}\n","import { Component, OnInit, HostListener, OnDestroy, NgModule, SimpleChanges, OnChanges, ChangeDetectorRef, AfterViewChecked, ViewEncapsulation, ContentChild, ViewChild, forwardRef, Input, Output, EventEmitter, ElementRef, AfterViewInit, Pipe, PipeTransform } from '@angular/core';\nimport { FormsModule, NG_VALUE_ACCESSOR, ControlValueAccessor, NG_VALIDATORS, Validator, FormControl } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { MyException } from './multiselect.model';\nimport { DropdownSettings } from './multiselect.interface';\nimport { ClickOutsideDirective, ScrollDirective, styleDirective, setPosition } from './clickOutside';\nimport { ListFilterPipe } from './list-filter';\nimport { Item, Badge, Search, TemplateRenderer, CIcon } from './menu-item';\nimport { DataService } from './multiselect.service';\nimport { Subscription } from 'rxjs';\nimport { VirtualScrollComponent, ChangeEvent } from './virtual-scroll';\n\nexport const DROPDOWN_CONTROL_VALUE_ACCESSOR: any = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => AngularMultiSelect),\n    multi: true\n};\nexport const DROPDOWN_CONTROL_VALIDATION: any = {\n    provide: NG_VALIDATORS,\n    useExisting: forwardRef(() => AngularMultiSelect),\n    multi: true,\n}\nconst noop = () => {\n};\n\n@Component({\n    selector: 'angular2-multiselect',\n    templateUrl: './multiselect.component.html',\n    host: { '[class]': 'defaultSettings.classes' },\n    styleUrls: ['./multiselect.component.scss'],\n    providers: [DROPDOWN_CONTROL_VALUE_ACCESSOR, DROPDOWN_CONTROL_VALIDATION],\n    encapsulation: ViewEncapsulation.None,\n})\n\nexport class AngularMultiSelect implements OnInit, ControlValueAccessor, OnChanges, Validator, AfterViewChecked, OnDestroy {\n\n    @Input()\n    data: Array<any>;\n\n    @Input()\n    settings: DropdownSettings;\n\n    @Input()\n    loading: boolean;\n\n    @Output('onSelect')\n    onSelect: EventEmitter<any> = new EventEmitter<any>();\n\n    @Output('onDeSelect')\n    onDeSelect: EventEmitter<any> = new EventEmitter<any>();\n\n    @Output('onSelectAll')\n    onSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\n\n    @Output('onDeSelectAll')\n    onDeSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\n\n    @Output('onOpen')\n    onOpen: EventEmitter<any> = new EventEmitter<any>();\n\n    @Output('onClose')\n    onClose: EventEmitter<any> = new EventEmitter<any>();\n\n    @Output('onScrollToEnd')\n    onScrollToEnd: EventEmitter<any> = new EventEmitter<any>();\n\n    @Output('onFilterSelectAll')\n    onFilterSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\n\n    @Output('onFilterDeSelectAll')\n    onFilterDeSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\n\n    @Output('onAddFilterNewItem')\n    onAddFilterNewItem: EventEmitter<any> = new EventEmitter<any>();\n\n    @ContentChild(Item) itemTempl: Item;\n    @ContentChild(Badge) badgeTempl: Badge;\n    @ContentChild(Search) searchTempl: Search;\n\n\n    @ViewChild('searchInput') searchInput: ElementRef;\n    @ViewChild('selectedList') selectedListElem: ElementRef;\n    @ViewChild('dropdownList') dropdownListElem: ElementRef;\n\n    @HostListener('document:keyup.escape', ['$event'])\n    onEscapeDown(event: KeyboardEvent) {\n        if (this.settings.escapeToClose) {\n            this.closeDropdown();\n        }\n    }\n\n    filterPipe: ListFilterPipe;\n    public selectedItems: Array<any>;\n    public isActive: boolean = false;\n    public isSelectAll: boolean = false;\n    public isFilterSelectAll: boolean = false;\n    public isInfiniteFilterSelectAll: boolean = false;\n    public groupedData: Array<any>;\n    filter: any;\n    public chunkArray: any[];\n    public scrollTop: any;\n    public chunkIndex: any[] = [];\n    public cachedItems: any[] = [];\n    public groupCachedItems: any[] = [];\n    public totalRows: any;\n    public itemHeight: any = 41.6;\n    public screenItemsLen: any;\n    public cachedItemsLen: any;\n    public totalHeight: any;\n    public scroller: any;\n    public maxBuffer: any;\n    public lastScrolled: any;\n    public lastRepaintY: any;\n    public selectedListHeight: any;\n    public filterLength: any = 0;\n    public infiniteFilterLength: any = 0;\n    public viewPortItems: any;\n    public item: any;\n    public dropdownListYOffset: number = 0;\n    subscription: Subscription;\n    defaultSettings: DropdownSettings = {\n        singleSelection: false,\n        text: 'Select',\n        enableCheckAll: true,\n        selectAllText: 'Select All',\n        unSelectAllText: 'UnSelect All',\n        filterSelectAllText: 'Select all filtered results',\n        filterUnSelectAllText: 'UnSelect all filtered results',\n        enableSearchFilter: false,\n        searchBy: [],\n        maxHeight: 300,\n        badgeShowLimit: 999999999999,\n        classes: '',\n        disabled: false,\n        searchPlaceholderText: 'Search',\n        showCheckbox: true,\n        noDataLabel: 'No Data Available',\n        searchAutofocus: true,\n        lazyLoading: false,\n        labelKey: 'itemName',\n        primaryKey: 'id',\n        position: 'bottom',\n        autoPosition: true,\n        enableFilterSelectAll: true,\n        selectGroup: false,\n        addNewItemOnFilter: false,\n        addNewButtonText: \"Add\",\n        escapeToClose: true\n    }\n    public parseError: boolean;\n    public filteredList: any = [];\n    constructor(public _elementRef: ElementRef, private cdr: ChangeDetectorRef, private ds: DataService) {\n\n    }\n    ngOnInit() {\n        this.settings = Object.assign(this.defaultSettings, this.settings);\n        if (this.settings.groupBy) {\n            this.groupedData = this.transformData(this.data, this.settings.groupBy);\n            this.groupCachedItems = this.cloneArray(this.groupedData);\n        }\n        this.cachedItems = this.cloneArray(this.data);\n        if (this.settings.position == 'top') {\n            setTimeout(() => {\n                this.selectedListHeight = { val: 0 };\n                this.selectedListHeight.val = this.selectedListElem.nativeElement.clientHeight;\n            });\n        }\n        this.subscription = this.ds.getData().subscribe(data => {\n            if (data) {\n                var len = 0;\n                data.forEach((obj: any, i: any) => {\n                    if (!obj.hasOwnProperty('grpTitle')) {\n                        len++;\n                    }\n                });\n                this.filterLength = len;\n                this.onFilterChange(data);\n            }\n\n        });\n        setTimeout(() => {\n            this.calculateDropdownDirection();\n        });\n\n    }\n    ngOnChanges(changes: SimpleChanges) {\n        if (changes.data && !changes.data.firstChange) {\n            if (this.settings.groupBy) {\n                this.groupedData = this.transformData(this.data, this.settings.groupBy);\n                if (this.data.length == 0) {\n                    this.selectedItems = [];\n                }\n            }\n            this.cachedItems = this.cloneArray(this.data);\n        }\n        if (changes.settings && !changes.settings.firstChange) {\n            this.settings = Object.assign(this.defaultSettings, this.settings);\n        }\n        if (changes.loading) {\n            console.log(this.loading);\n        }\n    }\n    ngDoCheck() {\n        if (this.selectedItems) {\n            if (this.selectedItems.length == 0 || this.data.length == 0 || this.selectedItems.length < this.data.length) {\n                this.isSelectAll = false;\n            }\n        }\n    }\n    ngAfterViewInit() {\n        if (this.settings.lazyLoading) {\n            // this._elementRef.nativeElement.getElementsByClassName(\"lazyContainer\")[0].addEventListener('scroll', this.onScroll.bind(this));\n        }\n    }\n    ngAfterViewChecked() {\n        if (this.selectedListElem.nativeElement.clientHeight && this.settings.position == 'top' && this.selectedListHeight) {\n            this.selectedListHeight.val = this.selectedListElem.nativeElement.clientHeight;\n            this.cdr.detectChanges();\n        }\n    }\n    onItemClick(item: any, index: number, evt: Event) {\n        if (this.settings.disabled) {\n            return false;\n        }\n\n        let found = this.isSelected(item);\n        let limit = this.selectedItems.length < this.settings.limitSelection ? true : false;\n\n        if (!found) {\n            if (this.settings.limitSelection) {\n                if (limit) {\n                    this.addSelected(item);\n                    this.onSelect.emit(item);\n                }\n            }\n            else {\n                this.addSelected(item);\n                this.onSelect.emit(item);\n            }\n\n        }\n        else {\n            this.removeSelected(item);\n            this.onDeSelect.emit(item);\n        }\n        if (this.isSelectAll || this.data.length > this.selectedItems.length) {\n            this.isSelectAll = false;\n        }\n        if (this.data.length == this.selectedItems.length) {\n            this.isSelectAll = true;\n        }\n        if (this.settings.groupBy) {\n            this.updateGroupInfo(item);\n        }\n    }\n    public validate(c: FormControl): any {\n        return null;\n    }\n    private onTouchedCallback: (_: any) => void = noop;\n    private onChangeCallback: (_: any) => void = noop;\n\n    writeValue(value: any) {\n        if (value !== undefined && value !== null && value !== '') {\n            if (this.settings.singleSelection) {\n                try {\n\n                    if (value.length > 1) {\n                        this.selectedItems = [value[0]];\n                        throw new MyException(404, { \"msg\": \"Single Selection Mode, Selected Items cannot have more than one item.\" });\n                    }\n                    else {\n                        this.selectedItems = value;\n                    }\n                }\n                catch (e) {\n                    console.error(e.body.msg);\n                }\n\n            }\n            else {\n                if (this.settings.limitSelection) {\n                    this.selectedItems = value.slice(0, this.settings.limitSelection);\n                }\n                else {\n                    this.selectedItems = value;\n                }\n                if (this.selectedItems.length === this.data.length && this.data.length > 0) {\n                    this.isSelectAll = true;\n                }\n            }\n        } else {\n            this.selectedItems = [];\n        }\n    }\n\n    //From ControlValueAccessor interface\n    registerOnChange(fn: any) {\n        this.onChangeCallback = fn;\n    }\n\n    //From ControlValueAccessor interface\n    registerOnTouched(fn: any) {\n        this.onTouchedCallback = fn;\n    }\n    trackByFn(index: number, item: any) {\n        return item[this.settings.primaryKey];\n    }\n    isSelected(clickedItem: any) {\n        let found = false;\n        this.selectedItems && this.selectedItems.forEach(item => {\n            if (clickedItem[this.settings.primaryKey] === item[this.settings.primaryKey]) {\n                found = true;\n            }\n        });\n        return found;\n    }\n    addSelected(item: any) {\n        if (this.settings.singleSelection) {\n            this.selectedItems = [];\n            this.selectedItems.push(item);\n            this.closeDropdown();\n        }\n        else\n            this.selectedItems.push(item);\n        this.onChangeCallback(this.selectedItems);\n        this.onTouchedCallback(this.selectedItems);\n    }\n    removeSelected(clickedItem: any) {\n        this.selectedItems && this.selectedItems.forEach(item => {\n            if (clickedItem[this.settings.primaryKey] === item[this.settings.primaryKey]) {\n                this.selectedItems.splice(this.selectedItems.indexOf(item), 1);\n            }\n        });\n        this.onChangeCallback(this.selectedItems);\n        this.onTouchedCallback(this.selectedItems);\n    }\n    toggleDropdown(evt: any) {\n        if (this.settings.disabled) {\n            return false;\n        }\n        this.isActive = !this.isActive;\n        if (this.isActive) {\n            if (this.settings.searchAutofocus && this.searchInput && this.settings.enableSearchFilter && !this.searchTempl) {\n                setTimeout(() => {\n                    this.searchInput.nativeElement.focus();\n                }, 0);\n            }\n            this.onOpen.emit(true);\n        }\n        else {\n            this.onClose.emit(false);\n        }\n        setTimeout(() => {\n            this.calculateDropdownDirection();\n        }, 0);\n\n        evt.preventDefault();\n    }\n    public openDropdown() {\n        if (this.settings.disabled) {\n            return false;\n        }\n        this.isActive = true;\n        if (this.settings.searchAutofocus && this.searchInput && this.settings.enableSearchFilter && !this.searchTempl) {\n            setTimeout(() => {\n                this.searchInput.nativeElement.focus();\n            }, 0);\n        }\n        this.onOpen.emit(true);\n    }\n    public closeDropdown() {\n        if (this.searchInput && this.settings.lazyLoading) {\n            this.searchInput.nativeElement.value = \"\";\n        }\n        if (this.searchInput) {\n            this.searchInput.nativeElement.value = \"\";\n        }\n        this.filter = \"\";\n        this.isActive = false;\n        this.onClose.emit(false);\n    }\n    public closeDropdownOnClickOut() {\n        if (this.searchInput && this.settings.lazyLoading) {\n            this.searchInput.nativeElement.value = \"\";\n        }\n        if (this.searchInput) {\n            this.searchInput.nativeElement.value = \"\";\n        }\n        this.filter = \"\";\n        this.isActive = false;\n        this.onClose.emit(false);\n    }\n    toggleSelectAll() {\n        if (!this.isSelectAll) {\n            this.selectedItems = [];\n            if (this.settings.groupBy) {\n                this.groupedData.forEach((obj) => {\n                    obj.selected = true;\n                })\n                this.groupCachedItems.forEach((obj) => {\n                    obj.selected = true;\n                })\n            }\n            this.selectedItems = this.data.slice();\n            this.isSelectAll = true;\n            this.onChangeCallback(this.selectedItems);\n            this.onTouchedCallback(this.selectedItems);\n\n            this.onSelectAll.emit(this.selectedItems);\n        }\n        else {\n            if (this.settings.groupBy) {\n                this.groupedData.forEach((obj) => {\n                    obj.selected = false;\n                });\n                this.groupCachedItems.forEach((obj) => {\n                    obj.selected = false;\n                })\n            }\n            this.selectedItems = [];\n            this.isSelectAll = false;\n            this.onChangeCallback(this.selectedItems);\n            this.onTouchedCallback(this.selectedItems);\n\n            this.onDeSelectAll.emit(this.selectedItems);\n        }\n    }\n    filterGroupedList() {\n        if (this.filter == \"\" || this.filter == null) {\n            this.clearSearch();\n            return;\n        }\n        this.groupedData = this.cloneArray(this.groupCachedItems);\n        this.groupedData = this.groupedData.filter(obj => {\n            var arr = obj.list.filter(t => {\n                return t.itemName.toLowerCase().indexOf(this.filter.toLowerCase()) > -1;\n            });\n            obj.list = arr;\n            return arr.some(cat => {\n                return cat.itemName.toLowerCase().indexOf(this.filter.toLowerCase()) > -1;\n            }\n            )\n        });\n        console.log(this.groupedData);\n    }\n    toggleFilterSelectAll() {\n        if (!this.isFilterSelectAll) {\n            let added = [];\n            if (this.settings.groupBy) {\n                this.groupedData.forEach((item: any) => {\n                    if (item.list) {\n                        item.list.forEach((el: any) => {\n                            if (!this.isSelected(el)) {\n                                this.addSelected(el);\n                                added.push(el);\n                            }\n                        });\n                    }\n                    this.updateGroupInfo(item);\n\n                });\n                \n            }\n            else {\n                this.ds.getFilteredData().forEach((item: any) => {\n                    if (!this.isSelected(item)) {\n                        this.addSelected(item);\n                        added.push(item);\n                    }\n\n                });\n            }\n\n            this.isFilterSelectAll = true;\n            this.onFilterSelectAll.emit(added);\n        }\n        else {\n            let removed = [];\n            if (this.settings.groupBy) {\n                this.groupedData.forEach((item: any) => {\n                    if (item.list) {\n                        item.list.forEach((el: any) => {\n                            if (this.isSelected(el)) {\n                                this.removeSelected(el);\n                                removed.push(el);\n                            }\n                        });\n                    }\n                });\n            }\n            else {\n                this.ds.getFilteredData().forEach((item: any) => {\n                    if (this.isSelected(item)) {\n                        this.removeSelected(item);\n                        removed.push(item);\n                    }\n\n                });\n            }\n            this.isFilterSelectAll = false;\n            this.onFilterDeSelectAll.emit(removed);\n        }\n    }\n    toggleInfiniteFilterSelectAll() {\n        if (!this.isInfiniteFilterSelectAll) {\n            this.data.forEach((item: any) => {\n                if (!this.isSelected(item)) {\n                    this.addSelected(item);\n                }\n\n            });\n            this.isInfiniteFilterSelectAll = true;\n        }\n        else {\n            this.data.forEach((item: any) => {\n                if (this.isSelected(item)) {\n                    this.removeSelected(item);\n                }\n\n            });\n            this.isInfiniteFilterSelectAll = false;\n        }\n    }\n    clearSearch() {\n        if (this.settings.groupBy) {\n            this.groupedData = [];\n            this.groupedData = this.cloneArray(this.groupCachedItems);\n        }\n            this.filter = \"\";\n            this.isFilterSelectAll = false;\n\n    }\n    onFilterChange(data: any) {\n        if (this.filter && this.filter == \"\" || data.length == 0) {\n            this.isFilterSelectAll = false;\n        }\n        let cnt = 0;\n        data.forEach((item: any) => {\n\n            if (!item.hasOwnProperty('grpTitle') && this.isSelected(item)) {\n                cnt++;\n            }\n        });\n\n        if (cnt > 0 && this.filterLength == cnt) {\n            this.isFilterSelectAll = true;\n        }\n        else if (cnt > 0 && this.filterLength != cnt) {\n            this.isFilterSelectAll = false;\n        }\n        this.cdr.detectChanges();\n    }\n    cloneArray(arr: any) {\n        var i, copy;\n\n        if (Array.isArray(arr)) {\n            return JSON.parse(JSON.stringify(arr));\n        } else if (typeof arr === 'object') {\n            throw 'Cannot clone array containing an object!';\n        } else {\n            return arr;\n        }\n    }\n    updateGroupInfo(item: any) {\n        var key = this.settings.groupBy;\n        this.groupedData.forEach((obj: any) => {\n            var cnt = 0;\n            if (obj.grpTitle && (item[key] == obj[key])) {\n                if (obj.list) {\n                    obj.list.forEach((el: any) => {\n                        if (this.isSelected(el)) {\n                            cnt++;\n                        }\n                    });\n                }\n            }\n            if (obj.list && (cnt === obj.list.length) && (item[key] == obj[key])) {\n                obj.selected = true;\n            }\n            else if (obj.list && (cnt != obj.list.length) && (item[key] == obj[key])) {\n                obj.selected = false;\n            }\n        });\n        this.groupCachedItems.forEach((obj: any) => {\n            var cnt = 0;\n            if (obj.grpTitle && (item[key] == obj[key])) {\n                if (obj.list) {\n                    obj.list.forEach((el: any) => {\n                        if (this.isSelected(el)) {\n                            cnt++;\n                        }\n                    });\n                }\n            }\n            if (obj.list && (cnt === obj.list.length) && (item[key] == obj[key])) {\n                obj.selected = true;\n            }\n            else if (obj.list && (cnt != obj.list.length) && (item[key] == obj[key])) {\n                obj.selected = false;\n            }\n        });\n    }\n    transformData(arr: Array<any>, field: any): Array<any> {\n        const groupedObj: any = arr.reduce((prev: any, cur: any) => {\n            if (!prev[cur[field]]) {\n                prev[cur[field]] = [cur];\n            } else {\n                prev[cur[field]].push(cur);\n            }\n            return prev;\n        }, {});\n        const tempArr: any = [];\n        Object.keys(groupedObj).map((x: any) => {\n            var obj: any = {};\n            obj[\"grpTitle\"] = true;\n            obj[this.settings.labelKey] = x;\n            obj[this.settings.groupBy] = x;\n            obj['selected'] = false;\n            obj['list'] = [];\n            groupedObj[x].forEach((item: any) => {\n                item['list'] = [];\n                obj.list.push(item);\n            });\n            tempArr.push(obj);\n            // obj.list.forEach((item: any) => {\n            //     tempArr.push(item);\n            // });\n        });\n        return tempArr;\n    }\n    public filterInfiniteList(evt: any) {\n        var filteredElems: Array<any> = [];\n        if (this.settings.groupBy) {\n            this.groupedData = this.groupCachedItems.slice();\n        }\n        else {\n            this.data = this.cachedItems.slice();\n        }\n\n        if ((evt.target.value != null || evt.target.value != '') && !this.settings.groupBy) {\n            if (this.settings.searchBy.length > 0) {\n                for (var t = 0; t < this.settings.searchBy.length; t++) {\n\n                    this.data.filter((el: any) => {\n                        if (el[this.settings.searchBy[t].toString()].toString().toLowerCase().indexOf(evt.target.value.toString().toLowerCase()) >= 0) {\n                            filteredElems.push(el);\n                        }\n                    });\n                    /*                    if (filter && item[searchBy[t]] && item[searchBy[t]] != \"\") {\n                                            if (item[searchBy[t]].toString().toLowerCase().indexOf(filter.toLowerCase()) >= 0) {\n                                                found = true;\n                                            }\n                                        }*/\n                }\n\n            }\n            else {\n                this.data.filter(function (el: any) {\n                    for (var prop in el) {\n                        if (el[prop].toString().toLowerCase().indexOf(evt.target.value.toString().toLowerCase()) >= 0) {\n                            filteredElems.push(el);\n                            break;\n                        }\n                    }\n                });\n            }\n            this.data = [];\n            this.data = filteredElems;\n            this.infiniteFilterLength = this.data.length;\n        }\n        if (evt.target.value.toString() != '' && this.settings.groupBy) {\n            this.groupedData.filter(function (el: any) {\n                if (el.hasOwnProperty('grpTitle')) {\n                    filteredElems.push(el);\n                }\n                else {\n                    for (var prop in el) {\n                        if (el[prop].toString().toLowerCase().indexOf(evt.target.value.toString().toLowerCase()) >= 0) {\n                            filteredElems.push(el);\n                            break;\n                        }\n                    }\n                }\n            });\n            this.groupedData = [];\n            this.groupedData = filteredElems;\n            this.infiniteFilterLength = this.groupedData.length;\n        }\n        else if (evt.target.value.toString() == '' && this.cachedItems.length > 0) {\n            this.data = [];\n            this.data = this.cachedItems;\n            this.infiniteFilterLength = 0;\n        }\n    }\n    resetInfiniteSearch() {\n        this.filter = \"\";\n        this.isInfiniteFilterSelectAll = false;\n        this.data = [];\n        this.data = this.cachedItems;\n        this.groupedData = this.groupCachedItems;\n        this.infiniteFilterLength = 0;\n    }\n    onScrollEnd(e: ChangeEvent) {\n        this.onScrollToEnd.emit(e);\n    }\n    ngOnDestroy() {\n        this.subscription.unsubscribe();\n    }\n    selectGroup(item: any) {\n        if (item.selected) {\n            item.selected = false;\n            item.list.forEach((obj: any) => {\n                this.removeSelected(obj);\n            });\n        }\n        else {\n            item.selected = true;\n            item.list.forEach((obj: any) => {\n                if (!this.isSelected(obj)) {\n                    this.addSelected(obj);\n                }\n\n            });\n        }\n        this.updateGroupInfo(item);\n\n    }\n    addFilterNewItem() {\n        this.onAddFilterNewItem.emit(this.filter);\n        this.filterPipe = new ListFilterPipe(this.ds);\n        this.filterPipe.transform(this.data, this.filter, this.settings.searchBy);\n    }\n    calculateDropdownDirection() {\n        let shouldOpenTowardsTop = this.settings.position == 'top';\n        if (this.settings.autoPosition) {\n            const dropdownHeight = this.dropdownListElem.nativeElement.clientHeight;\n            const viewportHeight = document.documentElement.clientHeight;\n            const selectedListBounds = this.selectedListElem.nativeElement.getBoundingClientRect();\n\n            const spaceOnTop: number = selectedListBounds.top;\n            const spaceOnBottom: number = viewportHeight - selectedListBounds.top;\n            if (spaceOnBottom < spaceOnTop && dropdownHeight < spaceOnTop) {\n                this.openTowardsTop(true);\n            }\n            else {\n                this.openTowardsTop(false);\n            }\n            // Keep preference if there is not enough space on either the top or bottom\n            /* \t\t\tif (spaceOnTop || spaceOnBottom) {\n                            if (shouldOpenTowardsTop) {\n                                shouldOpenTowardsTop = spaceOnTop;\n                            } else {\n                                shouldOpenTowardsTop = !spaceOnBottom;\n                            }\n                        } */\n        }\n\n    }\n    openTowardsTop(value: boolean) {\n        if (value && this.selectedListElem.nativeElement.clientHeight) {\n            this.dropdownListYOffset = 15 + this.selectedListElem.nativeElement.clientHeight;\n        } else {\n            this.dropdownListYOffset = 0;\n        }\n    }\n}\n\n@NgModule({\n    imports: [CommonModule, FormsModule],\n    declarations: [AngularMultiSelect, ClickOutsideDirective, ScrollDirective, styleDirective, ListFilterPipe, Item, TemplateRenderer, Badge, Search, setPosition, VirtualScrollComponent, CIcon],\n    exports: [AngularMultiSelect, ClickOutsideDirective, ScrollDirective, styleDirective, ListFilterPipe, Item, TemplateRenderer, Badge, Search, setPosition, VirtualScrollComponent, CIcon],\n    providers: [DataService]\n})\nexport class AngularMultiSelectModule { }\n"],"names":["EventEmitter","Directive","ElementRef","Output","HostListener","Input","Subject","Injectable","Pipe","Component","ContentChild","TemplateRef","ViewContainerRef","ViewEncapsulation","Renderer2","NgZone","ViewChild","NG_VALUE_ACCESSOR","forwardRef","NG_VALIDATORS","ChangeDetectorRef","NgModule","CommonModule","FormsModule"],"mappings":"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"}
