<div class="row page">
	<div style="cursor: pointer;"
		[routerLink]="['/dashboard', 'work', 'groups', 'library', 'collection', 'page']"
		[queryParams]="{ page: pageData?._id  }" class="page-info">
		<div class="page-title">
			<i class="material-icons-outlined mr-3" style="color: #005FD5;">library_books</i>
			{{ pageData?.title }}
		</div>

		<div class="muted ml-5">
			<span i18n="@@pageRow.createdBy" class="text-success">Created by</span>
			<span class="ml-1">{{ pageData?._created_by?.first_name }} {{ pageData?._created_by?.last_name }}</span>
		
			<span i18n="@@pageRow.updated" class="ml-2 text-warning">Updated</span>
			<span class="ml-1">{{ formateDate(pageData?.updated_date) }}</span>
		</div>
	</div>

	<div class="options" *ngIf="canEdit">
		<i class="material-icons-outlined ml-2" [matMenuTriggerFor]="menu" style="cursor: pointer;">more_horiz</i>
	
		<mat-menu #menu="matMenu">
			<a mat-menu-item style="cursor: pointer" (click)="createSubPage()">
				<i class="material-icons-outlined">add</i>
				<span i18n="@@pageRow.newPage">New Page</span>
			</a>

			<a mat-menu-item style="cursor: pointer" (click)="deletePage()">
				<i class="material-icons-outlined">delete</i>
				<span i18n="@@pageRow.delete">Delete</span>
			</a>
		</mat-menu>
	</div>
</div>

<div style="padding-left: 20px;" *ngIf="!!pageData && !!pageData?._pages && pageData?._pages?.length > 0">
	<app-page-row *ngFor="let page of pageData?._pages" [pageData]="page" [userData]="userData" [workspaceId]="workspaceId" (subpageDeletedEmitter)="initSubPages()"></app-page-row>
</div>