<div *ngIf="pageData" class="story-actions">
  <div class="story-actions-left">

    <app-secured-image
      [imgURL]="pageData?._created_by?.profile_pic"
      [service]="'user'"
      [workspaceId]="workspaceData?._id"
      [styleClass]="'feed-avatar-small'"
      style="float: left; cursor: auto;"></app-secured-image>

    <div style="padding-top: 10px;" class="ml-1 mr-1">
      {{ pageData?._created_by?.first_name }}
      {{ pageData?._created_by?.last_name }}
    </div>


    <div class="muted" style="padding-top: 10px;">
      <span i18n="@@storyActionsBar.on">on</span>
      {{ formateDate(pageData?.created_date) }}
    </div>
  </div>

  <div class="story-actions-right">
    <!-- COMMENT action starts -->
    <span *ngIf="userData && pageData">
      <button class="btn btn-link">
        <i matTooltipPosition="above" matTooltip="Write a comment"
            [ngClass]="(pageData?._comments && pageData?._comments?.length>0) ? 'material-icons text-primary' : 'material-icons-outlined muted'"
            (click)="showCommentsAction()">
          comment
        </i>
      </button>
      <span class="metrics"> {{ pageData?._comments?.length || 0 }}</span>
    </span>
    <!-- COMMENT action ends-->

    <!-- LIKE action starts -->
    <app-like-page
      [userData]="userData"
      [pageData]="pageData"
      (storyLiked)="editPage($event)"
      (storyUnLiked)="editPage($event)"></app-like-page>
    <!-- LIKE action ends -->

    <!-- EDIT action starts -->
    <button class="btn btn-link" data-toggle="dropdown">
      <span><i class="material-icons muted">more_horiz</i></span>
    </button>

    <!-- Menu Starts -->
    <ul class="dropdown-menu">
      <li class="dropdown-item" (click)="canEditAction()">
        <span class="material-icons-outlined">create</span>
        <span *ngIf="!canEditPage" i18n="@@storyActionsBar.edit">Edit</span>
        <span *ngIf="canEditPage" i18n="@@storyActionsBar.cancelEdit">Cancel Edit</span>
      </li>
      <!--
      <li class="dropdown-item" (click)="openImageSelector('header_pic')">
        <span class="material-icons-outlined">panorama</span>
        <span i18n="@@storyActionsBar.editHeaderImage">Edit Header Image</span>
      </li>
      <li class="dropdown-item" (click)="openImageSelector('icon_pic')">
        <span class="material-icons-outlined">insert_photo</span>
        <span i18n="@@storyActionsBar.editIconImage">Edit Icon Image</span>
      </li>
      -->
      <li class="dropdown-item" (click)="deletePage(pageData?._id)">
        <span class="material-icons-outlined">delete</span>
        <span i18n="@@storyActionsBar.delete">Delete</span>
      </li>
    </ul>
    <!-- Menu Ends -->
    <!-- EDIT action ends -->
  </div>
</div>
