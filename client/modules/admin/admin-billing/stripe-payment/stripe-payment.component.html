<!-- <app-start-subscription *ngIf="!workspaceData?.billing?.current_period_end || !subscription; else subscriptionTemp" -->
<app-start-subscription *ngIf="!isSubscriptionActive(); else subscriptionTemp"
  [userData]="userData"
  [workspaceData]="workspaceData"
  [publicFunctions]="publicFunctions"
  [subscription]="subscription"
  (subscriptionCreated)="onSubscriptionChanges($event)">
</app-start-subscription>

<ng-container *ngIf="isLoading$ | async">
  <app-loading-spinner></app-loading-spinner>
</ng-container>

<ng-template #subscriptionTemp>
  <div *ngIf="charges.length > 0" class="card-tile" style="margin-top: 20px;">
    <h4>Octonius partners with Stripe to manage your payments. <br>
      <img src="assets/images/stripe_pay.svg" alt="" style="width: 240px; margin-top: 30px;">
    </h4>
    <button (click)="createCustomerPortalSession()" class="btn btn-md btn-primary mt-4">Manage subscription</button>
  </div>
  
  <!--
  <app-subscription-details *ngIf="subscription"
    [publicFunctions]="publicFunctions"
    [subscription]="subscription"
    [workspaceData]="workspaceData"
    (subscriptionCanceled)="onSubscriptionChanges($event)"
    (subscriptionResume)="onSubscriptionChanges($event)">
  </app-subscription-details>
  -->
</ng-template>


