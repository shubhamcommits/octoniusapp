<div class="container">
    <div class="row no-margin">
        <ng-container *ngIf="userData && workspaceData">
            <app-create-group class="col-md-4" [userData]="userData" [state]="'normal'" [workspaceData]="workspaceData"
                (group)="receiveGroupUpdates($event)">
            </app-create-group>
            <app-create-group class="col-md-4" [userData]="userData" [state]="'agora'" [workspaceData]="workspaceData"
                (group)="receiveGroupUpdates($event)">
            </app-create-group>
            <app-create-group class="col-md-4" [userData]="userData" [state]="'smart'" [workspaceData]="workspaceData"
                (group)="receiveGroupUpdates($event)">
            </app-create-group>
        </ng-container>
    </div>
    <!-- INFINITE SCROLL STARTS FOR USER GROUPS -->
    <div infiniteScroll [infiniteScrollDistance]="2" [infiniteScrollThrottle]="1500" [immediateCheck]="true"
        (scrolled)="onScroll()" class="row no-margin groups-section">
        <ng-container *ngFor="let group of userGroups; trackBy: utilityService.trackByIndex">
            <div *ngIf="group.group_name !== 'private'" class="card col-md-3 groups"
                [routerLink]="['/dashboard/groups/',group._id, 'activity']">
                <span class="badge badge-members">{{ group?.members_count }} Members</span>
                <img class="card-img-top" src="{{ this.baseUrl }}/uploads/{{group.group_avatar}}"
                    onerror="this.src='/assets/images/group.png'">
                <a *ngIf="group?.type == 'agora'" class="btn btn-light btn-public"><i
                        class="material-icons">account_balance</i></a>
                <a *ngIf="group?.type == 'smart'" class="btn btn-info btn-smart"><i
                        class="material-icons">fingerprint</i></a>
                <div class="card-body ">
                    <a>
                        <h2 class="card-title">{{group?.group_name}}</h2>
                    </a>
                </div>
            </div>

        </ng-container>
    </div>
    <!-- INFINITE SCROLL ENDS FOR USER GROUPS -->

    <!-- LOADING SPINNER STARTS -->
    <ng-container *ngIf="isLoading$ | async">
        <app-loading-spinner></app-loading-spinner>
    </ng-container>
    <!-- LOADING SPINNER ENDS -->
</div>