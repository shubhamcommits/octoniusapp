<div class="container">
    <div class="root">
        <div class="board">
            <!-- <app-board-bar *ngIf="groupData" [groupData]="groupData" ></app-board-bar> -->

            <!-- CREATE NEW COLUMN START -->
            <app-create-column (column)="addColumn($event)"></app-create-column>
            <!-- CREATE NEW COLUMN ENDS -->


            <div class="board-wrapper">

                <!-- ALL COLUMN DETAILS STARTS -->
                <div class="board-columns" cdkDropListGroup *ngIf="this.columns">
                    <div class="board-column" id="column.title" *ngFor="let column of columns; let i = index;">

                        <!-- COLUMN TITLE AND EDIT/DELETE DETAILS STARTS -->
                        <div class="column-title">
                            <h4 class="text-uppercase"> {{ column?.title }}</h4>
                            <div class="inline-block" *ngIf="!(column.title =='to do')">
                                <div class="dropdown">
                                    <i class="material-icons action dropdown-toggle"
                                        data-toggle="dropdown">more_horiz</i>

                                    <!-- Menu Drawer Starts -->
                                    <ul class="dropdown-menu">
                                        <li class="dropdown-item" (click)="column.editColumn = !column.editColumn">
                                            <span class="material-icons">create</span>
                                            Edit</li>
                                        <li class="dropdown-item" (click)="deleteColumn(column)">
                                            <span class="material-icons">delete</span>
                                            Delete</li>
                                    </ul>
                                    <!-- Menu Drawer Ends -->

                                </div>
                            </div>
                        </div>
                        <!-- COLUMN TITLE AND EDIT/DELETE DETAILS ENDS -->

                        <!-- EDIT COLUMN STARTS -->
                        <app-edit-column *ngIf="column" [column]="column" (column)="editColumn(column, $event)"></app-edit-column>
                        <!-- EDIT COLUMN ENDS -->

                        <!-- TASK CONTAINER STARTS -->
                        <div class="tasks-container" [id]="column.title" cdkDropList>

                            <!-- CREATE TASK STARTS -->
                            <app-new-task [groupData]="groupData" [userData]="userData" [column]="column" (post)="getPost($event, column)"></app-new-task>
                            <!-- CREATE TASK ENDS -->

                            <!-- TASK DETAILS STARTS -->
                            <!-- add class="status-todo" or status-inprogress or status-done for each status accordingly -->
                            <div class="task"
                                [ngClass]="{'status-todo': task?.task?.status === 'to do', 'status-inprogress': task?.task?.status === 'in progress', 'status-done': task?.task?.status === 'done'}"
                                *ngFor="let task of column.tasks; let j = index;" cdkDrag>
                                <div class="row">

                                    <!-- TASK TOP BAR STARTS -->
                                    <div class="col-md-12">
                                        <div class="row">

                                            <!-- TASK ASSIGNMENT STARTS -->
                                            <div class="col-md-7" style="margin-top: -10px;">
                                                <app-select-assignee [type]="'board'" [post]="task" [userData]="userData" [groupId]="groupData._id"></app-select-assignee>
                                            </div>
                                            <!-- TASK DETAILS ENDS -->

                                            <!-- TASK DUE DATE STARTs -->
                                            <div class="col-md-5 text-right">
                                                <span class="small"
                                                    *ngIf="task?.task?.due_to != 'Invalid date' && task?.task?.status != 'done'">
                                                    {{task?.task?.due_to | date}}</span>
                                            </div>
                                            <!-- TASK DUE DATE ENDS -->

                                        </div>
                                    </div>
                                    <!-- TASK TOP BAR ENDS -->

                                    <!-- TASK CONTENT & DETAILS STARTS -->
                                    <div class="col-md-12">
                                        <div class="container">
                                            <div class="kanban-card-title">{{ task?.title }}</div>

                                            <!-- TASK DETAILS STARTS -->
                                            <ng-template #content let-modal>
                                                <!-- <app-group-kanban-task-view [task]="task" [columns]="columns" [allMembersId]="allMembersId"
                          [groupData]="groupData" [socket]="socket" [quillModules]="quillModules"
                          (closeModal)="closeTaskModal($event)" (moveTask)="moveTaskFromDropDown($event)"
                          (delTask)="deleteTask($event)">
                        </app-group-kanban-task-view> -->
                                            </ng-template>
                                            <!-- TASK DETAILS ENDS -->

                                        </div>
                                    </div>
                                    <!-- TASK CONTENT & DETAILS ENDS -->
                                </div>
                            </div>
                            <!-- TASK DETAILS ENDS -->

                        </div>
                        <!-- TASK CONTAINER ENDS -->

                    </div>

                </div>
                <!-- ALL COLUMN DETAILS ENDS -->

            </div>

        </div>

    </div>
</div>