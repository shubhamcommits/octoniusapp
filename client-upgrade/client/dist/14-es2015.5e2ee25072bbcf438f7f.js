(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{zVrv:function(l,n,u){"use strict";u.r(n);var t=u("8Y7J");class e{}var s=u("pMnS"),r=u("9AJC"),a=u("iInd"),i=u("SVse"),o=u("e42M"),c=u("wHgu"),b=u("23FM"),p=u("mrSG"),d=u("SFZf"),h=u("iq5f");class m{constructor(l,n,u,t){this.injector=l,this.utilityService=n,this.userService=u,this.socketService=t,this.subSink=new h.SubSink,this.publicFunctions=new d.a(this.injector)}ngOnInit(){}getCroppedImage(l){this.croppedImage=l}updateUserDetails(l){return p.__awaiter(this,void 0,void 0,(function*(){try{this.utilityService.asyncNotification("Please wait while we are updating your avatar ...",new Promise((n,u)=>{this.subSink.add(this.userService.updateUserProfileImage(l).subscribe(l=>{this.userData.profile_pic=l.user.profile_pic;let u=this.workspaceData.members.findIndex(l=>l._id===this.userData._id);-1!=u&&(this.workspaceData.members[u].profile_pic=this.userData.profile_pic,this.publicFunctions.emitWorkspaceData(this.socketService,this.workspaceData)),this.publicFunctions.sendUpdatesToUserData(this.userData),n(this.utilityService.resolveAsyncPromise("Avatar updated!"))},l=>{console.log("Error occured, while updating the avatar",l),u(this.utilityService.rejectAsyncPromise("Oops, an error occured while updating the avatar, please try again!"))}))}))}catch(n){console.log("There's some unexpected error occured, please try again!",n),this.utilityService.errorNotification("There's some unexpected error occured, please try again!")}}))}}var f=u("4Uf4"),g=u("GED1"),v=t.qb({encapsulation:0,styles:[["img[_ngcontent-%COMP%]{border-radius:50%;width:15%;height:50%;margin-bottom:2%;display:block;margin-left:auto;margin-right:auto}.modal-body[_ngcontent-%COMP%]{max-height:calc(100vh - 200px);overflow-y:auto}"]],data:{}});function y(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,2,"div",[["class","modal-header"]],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Update your profile Image"])),(l()(),t.sb(3,0,null,null,4,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),t.sb(4,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.sb(5,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(l()(),t.sb(6,0,null,null,1,"app-crop-image",[["class","container"]],null,[[null,"outputImage"]],(function(l,n,u){var t=!0;return"outputImage"===n&&(t=!1!==l.component.getCroppedImage(u)&&t),t}),o.b,o.a)),t.rb(7,114688,null,0,c.a,[b.a],null,{outputImage:"outputImage"}),(l()(),t.sb(8,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),t.sb(9,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var t=!0,e=l.component;return"click"===n&&(t=!1!==e.updateUserDetails(e.croppedImage)&&t),t}),null,null)),(l()(),t.Mb(-1,null,["Update your Image!"]))],(function(l,n){l(n,7,0)}),(function(l,n){var u=n.component;l(n,5,0,t.wb(2,"",u.baseUrl,"/uploads/",null==u.userData?null:u.userData.profile_pic,""))}))}var D=u("AytR");class k{constructor(l,n,u,t){this.router=l,this._router=n,this.injector=u,this.utilityService=t,this.BASE_URL=D.a.UTILITIES_BASE_URL,this.isCurrentUser=!1,this.subSink=new h.SubSink,this.publicFunctions=new d.a(this.injector)}ngOnInit(){return p.__awaiter(this,void 0,void 0,(function*(){this.userData=yield this.publicFunctions.getCurrentUser(),this.workspaceData=yield this.publicFunctions.getCurrentWorkspace(),this.isCurrentUser=this.checkIsCurrentUser(this.userData),this.isCurrentUser||(this.userData=yield this.publicFunctions.getOtherUser(this.router.snapshot.queryParams.userId),this.utilityService.updateOtherUserData(this.userData))}))}ngOnDestroy(){this.subSink.unsubscribe()}checkIsCurrentUser(l){return this.router.snapshot.queryParams.userId==l._id}openUserDetails(l){return p.__awaiter(this,void 0,void 0,(function*(){this.utilityService.openModal(l,{size:"xl",centered:!0})}))}}var _=t.qb({encapsulation:0,styles:[[".content-class[_ngcontent-%COMP%]{text-align:start!important}"]],data:{}});function w(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,9,"a",[["class","nav-link"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Eb(l,1).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e),e}),null,null)),t.rb(1,671744,[[2,4]],0,a.r,[a.o,a.a,i.m],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),t.Hb(2,{userId:0}),t.Fb(3,3),t.rb(4,1720320,null,2,a.q,[a.o,t.k,t.C,[2,a.p],[2,a.r]],{routerLinkActive:[0,"routerLinkActive"]},null),t.Kb(603979776,1,{links:1}),t.Kb(603979776,2,{linksWithHrefs:1}),(l()(),t.Mb(-1,null,["Profile "])),(l()(),t.sb(8,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(l()(),t.Mb(-1,null,["(current)"]))],(function(l,n){var u=n.component,t=l(n,2,0,null==u.userData?null:u.userData._id),e=l(n,3,0,"/dashboard","user","profile");l(n,1,0,t,e),l(n,4,0,"active")}),(function(l,n){l(n,0,0,t.Eb(n,1).target,t.Eb(n,1).href)}))}function S(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,10,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,9,"a",[["class","nav-link"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Eb(l,2).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e),e}),null,null)),t.rb(2,671744,[[4,4]],0,a.r,[a.o,a.a,i.m],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),t.Hb(3,{userId:0}),t.Fb(4,3),t.rb(5,1720320,null,2,a.q,[a.o,t.k,t.C,[2,a.p],[2,a.r]],{routerLinkActive:[0,"routerLinkActive"]},null),t.Kb(603979776,3,{links:1}),t.Kb(603979776,4,{linksWithHrefs:1}),(l()(),t.Mb(-1,null,["Clouds "])),(l()(),t.sb(9,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(l()(),t.Mb(-1,null,["(current)"]))],(function(l,n){var u=n.component,t=l(n,3,0,null==u.userData?null:u.userData._id),e=l(n,4,0,"/dashboard","user","clouds");l(n,2,0,t,e),l(n,5,0,"active")}),(function(l,n){l(n,1,0,t.Eb(n,2).target,t.Eb(n,2).href)}))}function C(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,3,"div",[["class","col-md-3 text-right"]],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,2,"button",[["class","btn btn-link"],["name","button"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.openUserDetails(t.Eb(l.parent,15))&&e),e}),null,null)),(l()(),t.sb(2,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),t.Mb(-1,null,["create"]))],null,null)}function I(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,1,"app-user-image-details",[],null,null,null,y,v)),t.rb(1,114688,null,0,m,[t.q,b.a,f.a,g.a],{userData:[0,"userData"],workspaceData:[1,"workspaceData"],baseUrl:[2,"baseUrl"]},null)],(function(l,n){var u=n.component;l(n,1,0,u.userData,u.workspaceData,u.BASE_URL)}),null)}function M(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,15,"div",[["class","container"],["style","margin-bottom: 30px"]],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,14,"div",[["class","media user-sticky-card"]],null,null,null,null,null)),(l()(),t.sb(2,0,null,null,0,"img",[["class","mr-3 feed-avatar"],["onerror","this.src='/assets/images/user.png'"]],[[8,"src",4]],null,null,null,null)),(l()(),t.sb(3,0,null,null,9,"div",[["class","media-body"]],null,null,null,null,null)),(l()(),t.sb(4,0,null,null,8,"div",[],null,null,null,null,null)),(l()(),t.sb(5,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),t.Mb(6,null,[""," ",""])),(l()(),t.sb(7,0,null,null,5,"ul",[["class","nav"]],null,null,null,null,null)),(l()(),t.sb(8,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,w)),t.rb(10,16384,null,0,i.p,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.hb(16777216,null,null,1,null,S)),t.rb(12,16384,null,0,i.p,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.hb(16777216,null,null,1,null,C)),t.rb(14,16384,null,0,i.p,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.hb(0,[["content",2]],null,0,null,I)),(l()(),t.sb(16,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t.rb(17,212992,null,0,a.t,[a.b,t.N,t.j,[8,null],t.h],null,null)],(function(l,n){var u=n.component;l(n,10,0,u.isCurrentUser),l(n,12,0,u.isCurrentUser),l(n,14,0,u.isCurrentUser),l(n,17,0)}),(function(l,n){var u=n.component;l(n,2,0,t.wb(2,"",u.BASE_URL,"/uploads/",null==u.userData?null:u.userData.profile_pic,"")),l(n,6,0,null==u.userData?null:u.userData.first_name,null==u.userData?null:u.userData.last_name)}))}function O(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,1,"app-user-header",[],null,null,null,M,_)),t.rb(1,245760,null,0,k,[a.a,a.o,t.q,b.a],null,null)],(function(l,n){l(n,1,0)}),null)}var U=t.ob("app-user-header",k,O,{},{},[]);class x{constructor(l,n){this.utilityService=l,this.injector=n,this.userData={},this.currentUser=!1,this.publicFunctions=new d.a(this.injector)}ngOnInit(){}openModal(l,n){return this.utilityService.getSwalModal({title:l,html:`<input id="phone-number" type="tel" placeholder="Your Phone Number" \n      value="${this.userData.phone_number}" class="swal2-input">`+`<input id="mobile-number" type="tel" placeholder="Your Mobile Number" \n      value="${this.userData.mobile_number}" class="swal2-input">`+`<input id="company-name" type="text" placeholder="Your Company Name" \n      value="${this.userData.company_name}" class="swal2-input">`,focusConfirm:!1,preConfirm:()=>({phone_number:document.getElementById("phone-number").value,mobile_number:document.getElementById("mobile-number").value,company_name:document.getElementById("company-name").value}),confirmButtonText:"Update Information!",showCancelButton:!0,cancelButtonText:"Cancel",cancelButtonColor:"#d33",scrollbarPadding:!0,imageUrl:n,imageAlt:l,customClass:{content:"content-class",container:"container-class"}})}}var N=t.qb({encapsulation:0,styles:[["h6[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]],data:{}});function P(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,2,"button",[["class","btn btn-link"],["name","button"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var t=!0,e=l.component;return"click"===n&&(t=!1!==e.publicFunctions.editUserDetails(e.openModal("Update your Information!","/assets/images/user-info.svg"))&&t),t}),null,null)),(l()(),t.sb(1,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),t.Mb(-1,null,["create"]))],null,null)}function j(l){return t.Ob(2,[(l()(),t.sb(0,0,null,null,28,"div",[["class","sidecontent"]],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,27,"div",[["class","card sideinnercard"]],null,null,null,null,null)),(l()(),t.sb(2,0,null,null,26,"div",[["class","card-block"]],null,null,null,null,null)),(l()(),t.sb(3,0,null,null,4,"h6",[["class","card-title"]],null,null,null,null,null)),(l()(),t.sb(4,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["User Information"])),(l()(),t.hb(16777216,null,null,1,null,P)),t.rb(7,16384,null,0,i.p,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(8,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.sb(9,0,null,null,3,"p",[["class","card-text"]],null,null,null,null,null)),(l()(),t.sb(10,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Email:"])),(l()(),t.Mb(12,null,[" ",""])),(l()(),t.sb(13,0,null,null,3,"p",[["class","card-text"]],null,null,null,null,null)),(l()(),t.sb(14,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Phone:"])),(l()(),t.Mb(16,null,[" ",""])),(l()(),t.sb(17,0,null,null,3,"p",[["class","card-text"]],null,null,null,null,null)),(l()(),t.sb(18,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Mobile:"])),(l()(),t.Mb(20,null,[" ",""])),(l()(),t.sb(21,0,null,null,3,"p",[["class","card-text"]],null,null,null,null,null)),(l()(),t.sb(22,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Company:"])),(l()(),t.Mb(24,null,[" ",""])),(l()(),t.sb(25,0,null,null,3,"p",[["class","card-text"]],null,null,null,null,null)),(l()(),t.sb(26,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Role:"])),(l()(),t.Mb(28,null,[" ",""]))],(function(l,n){l(n,7,0,n.component.currentUser)}),(function(l,n){var u=n.component;l(n,12,0,null==u.userData?null:u.userData.email),l(n,16,0,null==u.userData?null:u.userData.phone_number),l(n,20,0,null==u.userData?null:u.userData.mobile_number),l(n,24,0,null==u.userData?null:u.userData.company_name),l(n,28,0,null==u.userData?null:u.userData.role)}))}var q=u("wd/R");class A{constructor(l,n){this.utilityService=l,this.injector=n,this.userData={},this.currentUser=!1,this.publicFunctions=new d.a(this.injector)}ngOnInit(){}openModal(l,n){return this.userData.company_join_date=void 0===JSON.stringify(this.userData.company_join_date)||""===JSON.stringify(this.userData.company_join_date)?q(new Date(Date.now())).format("YYYY-MM-DD"):q(this.userData.company_join_date).format("YYYY-MM-DD"),this.utilityService.getSwalModal({title:l,html:`<input id="current-position" type="text" placeholder="Your Current position" \n      value="${this.userData.current_position}" class="swal2-input">`+`<input id="company-joining-date" type="date" placeholder="Your Company Joining Date" \n      value="${this.userData.company_join_date}" class="swal2-input">`+`<textarea id="biography" type="textarea" placeholder="Your Short Bio" class="swal2-textarea">${this.userData.bio}</textarea>`,focusConfirm:!1,preConfirm:()=>({current_position:document.getElementById("current-position").value,company_join_date:q(document.getElementById("company-joining-date").value).format(),bio:document.getElementById("biography").value}),confirmButtonText:"Update Information!",showCancelButton:!0,cancelButtonText:"Cancel",cancelButtonColor:"#d33",scrollbarPadding:!0,imageUrl:n,imageAlt:l,customClass:{content:"content-class",container:"container-class"}})}}var B=t.qb({encapsulation:0,styles:[["h6[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]],data:{}});function F(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,2,"button",[["class","btn btn-link"],["name","button"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var t=!0,e=l.component;return"click"===n&&(t=!1!==e.publicFunctions.editUserDetails(e.openModal("Update your Professional Information!","/assets/images/user-professional-info.svg"))&&t),t}),null,null)),(l()(),t.sb(1,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),t.Mb(-1,null,["create"]))],null,null)}function E(l){return t.Ob(2,[t.Gb(0,i.f,[t.t]),(l()(),t.sb(1,0,null,null,24,"div",[["class","card-tile"]],null,null,null,null,null)),(l()(),t.sb(2,0,null,null,23,"div",[["class","card-block"]],null,null,null,null,null)),(l()(),t.sb(3,0,null,null,4,"h6",[["class","card-title"]],null,null,null,null,null)),(l()(),t.sb(4,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["User Professional Information"])),(l()(),t.hb(16777216,null,null,1,null,F)),t.rb(7,16384,null,0,i.p,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(8,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.sb(9,0,null,null,3,"p",[["class","card-text"]],null,null,null,null,null)),(l()(),t.sb(10,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Current Position:"])),(l()(),t.Mb(12,null,[" ",""])),(l()(),t.sb(13,0,null,null,4,"p",[["class","card-text"]],null,null,null,null,null)),(l()(),t.sb(14,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Company Joining Date:"])),(l()(),t.Mb(16,null,[" ",""])),t.Ib(17,2),(l()(),t.sb(18,0,null,null,3,"p",[["class","card-text"]],null,null,null,null,null)),(l()(),t.sb(19,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Groups Count:"])),(l()(),t.Mb(21,null,[" ",""])),(l()(),t.sb(22,0,null,null,3,"p",[["class","card-text"]],null,null,null,null,null)),(l()(),t.sb(23,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Biography:"])),(l()(),t.Mb(25,null,[" ",""]))],(function(l,n){l(n,7,0,n.component.currentUser)}),(function(l,n){var u=n.component;l(n,12,0,null==u.userData?null:u.userData.current_position);var e=t.Nb(n,16,0,l(n,17,0,t.Eb(n,0),null==u.userData?null:u.userData.company_join_date,"longDate"));l(n,16,0,e),l(n,21,0,(null==u.userData||null==u.userData._groups?null:u.userData._groups.length)||0),l(n,25,0,null==u.userData?null:u.userData.bio)}))}var T=u("4IPy"),J=u("xVZP");class L{constructor(l,n,u){this.utilityService=l,this.userService=n,this.injector=u,this.userData={},this.currentUser=!1,this.publicFunctions=new d.a(this.injector)}ngOnInit(){}checkDataExist(l){return!(JSON.stringify(l)===JSON.stringify({}))}addNewSkill(l){return new Promise((n,u)=>{this.userService.addSkill(l).toPromise().then(()=>n(this.utilityService.successNotification("New skill Added!"))).catch(()=>u(this.utilityService.errorNotification("Unable to add new skill, please try again!")))})}removeSkill(l,n){return new Promise((u,t)=>{this.userService.removeSkill(l).toPromise().then(()=>{this.userData.skills.splice(n,1),this.publicFunctions.sendUpdatesToUserData(this.userData),u(this.utilityService.warningNotification("Skill Removed!"))}).catch(()=>t(this.utilityService.errorNotification("Unable to add new skill, please try again!")))})}}var K=t.qb({encapsulation:0,styles:[["li[_ngcontent-%COMP%]{display:flex;justify-items:flex-start;justify-content:space-between}"]],data:{}});function R(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,1,"app-component-search-input-box",[],null,[[null,"skill"]],(function(l,n,u){var t=!0;return"skill"===n&&(t=!1!==l.component.addNewSkill(u)&&t),t}),T.b,T.a)),t.rb(1,4440064,null,0,J.a,[t.q],{placeholder:[0,"placeholder"],type:[1,"type"],userData:[2,"userData"]},{skillEmitter:"skill"})],(function(l,n){l(n,1,0,"Type here to search and add a new skill","skill",n.component.userData)}),null)}function Y(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,1,"i",[["class","material-icons"],["ngbTooltip","Delete this skill"],["placement","top"]],null,null,null,null,null)),(l()(),t.Mb(-1,null,[" delete_sweep "]))],null,null)}function H(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,4,"li",[],null,null,null,null,null)),(l()(),t.Mb(1,null,[" "," "])),(l()(),t.sb(2,0,null,null,2,"button",[["class","btn btn-link"],["name","button"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.removeSkill(l.context.$implicit,l.context.index)&&t),t}),null,null)),(l()(),t.hb(16777216,null,null,1,null,Y)),t.rb(4,16384,null,0,i.p,[t.N,t.K],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,4,0,n.component.currentUser)}),(function(l,n){l(n,1,0,n.context.$implicit)}))}function z(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,10,"div",[["class","card-tile"]],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,9,"div",[["class","card-block"]],null,null,null,null,null)),(l()(),t.sb(2,0,null,null,2,"h6",[["class","card-title"]],null,null,null,null,null)),(l()(),t.sb(3,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["User Skills"])),(l()(),t.hb(16777216,null,null,1,null,R)),t.rb(6,16384,null,0,i.p,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(7,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.sb(8,0,null,null,2,"ul",[["class","skills"]],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,H)),t.rb(10,278528,null,0,i.o,[t.N,t.K,t.r],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],(function(l,n){var u=n.component;l(n,6,0,u.userData&&u.checkDataExist(u.userData)&&u.currentUser),l(n,10,0,null==u.userData?null:u.userData.skills,u.utilityService.trackByIndex)}),null)}class ${constructor(l,n,u,t){this.utilityService=l,this.injector=n,this.router=u,this._route=t,this.publicFunctions=new d.a(this.injector),this.userHeaderComponent=new k(this.router,this._route,this.injector,this.utilityService),this.isCurrentUser=this.userHeaderComponent.isCurrentUser}ngOnInit(){return p.__awaiter(this,void 0,void 0,(function*(){this.utilityService.currentUserData.subscribe(l=>{JSON.stringify(l)!=JSON.stringify({})&&(this.userData=l)}),this.userData=yield this.publicFunctions.getCurrentUser(),this.isCurrentUser=this.userHeaderComponent.checkIsCurrentUser(this.userData),this.isCurrentUser||this.utilityService.otherUserData.subscribe(l=>{console.log(l),JSON.stringify(l)!=JSON.stringify({})&&(this.userData=l)})}))}ngAfterViewChecked(){}}var G=t.qb({encapsulation:0,styles:[[""]],data:{}});function V(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,8,"div",[["class","row main-actvity"]],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,2,"div",[["class","col-md-4"]],null,null,null,null,null)),(l()(),t.sb(2,0,null,null,1,"app-user-information",[],null,null,null,j,N)),t.rb(3,114688,null,0,x,[b.a,t.q],{userData:[0,"userData"],currentUser:[1,"currentUser"]},null),(l()(),t.sb(4,0,null,null,4,"div",[["class","col-md-8"]],null,null,null,null,null)),(l()(),t.sb(5,0,null,null,1,"app-user-professional-information",[],null,null,null,E,B)),t.rb(6,114688,null,0,A,[b.a,t.q],{userData:[0,"userData"],currentUser:[1,"currentUser"]},null),(l()(),t.sb(7,0,null,null,1,"app-user-skills",[],null,null,null,z,K)),t.rb(8,114688,null,0,L,[b.a,f.a,t.q],{userData:[0,"userData"],currentUser:[1,"currentUser"]},null)],(function(l,n){var u=n.component;l(n,3,0,u.userData,u.isCurrentUser),l(n,6,0,u.userData,u.isCurrentUser),l(n,8,0,u.userData,u.isCurrentUser)}),null)}function W(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,2,"div",[["class","container"]],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,V)),t.rb(2,16384,null,0,i.p,[t.N,t.K],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.component.userData)}),null)}function X(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,1,"app-user-profile",[],null,null,null,W,G)),t.rb(1,8503296,null,0,$,[b.a,t.q,a.a,a.o],null,null)],(function(l,n){l(n,1,0)}),null)}var Z=t.ob("app-user-profile",$,X,{},{},[]);class Q{constructor(){}ngOnInit(){}handleAuthResult(l){return new Promise((n,u)=>{if(console.log("Auth Results",l),l&&!l.error){if(l.access_token){const u=new XMLHttpRequest,t=new FormData;t.append("code",l.code),t.append("client_id",D.a.clientId),t.append("client_secret",D.a.clientSecret),t.append("grant_type","authorization_code"),t.append("redirect_uri",D.a.google_redirect_url),u.open("POST","https://www.googleapis.com/oauth2/v4/token",!0),u.setRequestHeader("Authorization","Bearer "+l.access_token),u.onload=()=>{if(200===u.status){console.log(JSON.parse(u.responseText));const l={google_token_data:JSON.parse(u.responseText)};localStorage.setItem("google-cloud-token",JSON.stringify(l));const n=new XMLHttpRequest;n.open("POST",D.a.BASE_API_URL+"/users/integrations/gdrive/token",!0),n.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));const t=new FormData;t.append("token",JSON.parse(u.responseText).refresh_token),n.onload=()=>{200===n.status&&console.log(JSON.parse(n.responseText))},n.send(t);const e=new XMLHttpRequest;e.open("GET","https://www.googleapis.com/drive/v3/about?fields=user,storageQuota",!0),e.setRequestHeader("Authorization","Bearer "+JSON.parse(u.responseText).access_token),e.onload=()=>{if(200===e.status){console.log(JSON.parse(e.responseText));const l={user_data:JSON.parse(e.responseText),refresh_token:JSON.parse(u.responseText).refresh_token};localStorage.setItem("google-cloud",JSON.stringify(l))}},e.send()}},u.send(t),n()}}else u()})}onAuthApiLoad(){return p.__awaiter(this,void 0,void 0,(function*(){yield gapi.auth.authorize({client_id:D.a.clientId,scope:D.a.scope,immediate:!1,access_type:"offline",approval_prompt:"force",response_type:"token code",grant_type:"authorization_code"},this.handleAuthResult).then(l=>{console.log(l)})}))}}var ll=t.qb({encapsulation:0,styles:[[".push-right[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]],data:{}});function nl(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,3,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),t.sb(2,0,null,null,2,"p",[["class","card-text"]],null,null,null,null,null)),(l()(),t.sb(3,0,null,null,1,"strong",[["class","float-left"]],null,null,null,null,null)),(l()(),t.Mb(-1,null,[" Google"])),(l()(),t.sb(5,0,null,null,2,"div",[["class","col-md-6 push-right"]],null,null,null,null,null)),(l()(),t.sb(6,0,null,null,1,"button",[["class","btn btn-primary btn-sm"],["id","google-connect"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.onAuthApiLoad()&&t),t}),null,null)),(l()(),t.Mb(-1,null,["Connect"]))],null,null)}class ul{constructor(){}ngOnInit(){}}var tl=t.qb({encapsulation:0,styles:[[".push-right[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]],data:{}});function el(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,34,"div",[["class","sidecontent"]],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,33,"div",[["class","card sideinnercard"]],null,null,null,null,null)),(l()(),t.sb(2,0,null,null,32,"div",[["class","card-block"]],null,null,null,null,null)),(l()(),t.sb(3,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Available Clouds"])),(l()(),t.sb(5,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.sb(6,0,null,null,1,"app-connect-google-cloud",[],null,null,null,nl,ll)),t.rb(7,114688,null,0,Q,[],null,null),(l()(),t.sb(8,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.sb(9,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.sb(10,0,null,null,3,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),t.sb(11,0,null,null,2,"p",[["class","card-text"]],null,null,null,null,null)),(l()(),t.sb(12,0,null,null,1,"strong",[["class","float-left"]],null,null,null,null,null)),(l()(),t.Mb(-1,null,[" Dropbox"])),(l()(),t.sb(14,0,null,null,2,"div",[["class","col-md-6 push-right"]],null,null,null,null,null)),(l()(),t.sb(15,0,null,null,1,"button",[["class","btn btn-primary btn-sm"]],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Connect"])),(l()(),t.sb(17,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.sb(18,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.sb(19,0,null,null,3,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),t.sb(20,0,null,null,2,"p",[["class","card-text"]],null,null,null,null,null)),(l()(),t.sb(21,0,null,null,1,"strong",[["class","float-left"]],null,null,null,null,null)),(l()(),t.Mb(-1,null,["One Drive"])),(l()(),t.sb(23,0,null,null,2,"div",[["class","col-md-6 push-right"]],null,null,null,null,null)),(l()(),t.sb(24,0,null,null,1,"button",[["class","btn btn-primary btn-sm"]],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Connect"])),(l()(),t.sb(26,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.sb(27,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.sb(28,0,null,null,3,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),t.sb(29,0,null,null,2,"p",[["class","card-text"]],null,null,null,null,null)),(l()(),t.sb(30,0,null,null,1,"strong",[["class","float-left"]],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Box"])),(l()(),t.sb(32,0,null,null,2,"div",[["class","col-md-6 push-right"]],null,null,null,null,null)),(l()(),t.sb(33,0,null,null,1,"button",[["class","btn btn-primary btn-sm"]],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Connect"]))],(function(l,n){l(n,7,0)}),null)}class sl{constructor(){}ngOnInit(){}}var rl=t.qb({encapsulation:0,styles:[["img[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]],data:{}});function al(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,0,"img",[["src","/assets/images/empty-clouds.svg"]],null,null,null,null,null))],null,null)}class il{constructor(l){this.injector=l,this.publicFunctions=new d.a(this.injector)}ngOnInit(){return p.__awaiter(this,void 0,void 0,(function*(){this.userData=yield this.publicFunctions.getCurrentUser()}))}}var ol=t.qb({encapsulation:0,styles:[[""]],data:{}});function cl(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,6,"div",[["class","row main-actvity"]],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,2,"div",[["class","col-md-4"]],null,null,null,null,null)),(l()(),t.sb(2,0,null,null,1,"app-user-available-clouds",[],null,null,null,el,tl)),t.rb(3,114688,null,0,ul,[],null,null),(l()(),t.sb(4,0,null,null,2,"div",[["class","col-md-8"]],null,null,null,null,null)),(l()(),t.sb(5,0,null,null,1,"app-user-connected-clouds",[],null,null,null,al,rl)),t.rb(6,114688,null,0,sl,[],null,null)],(function(l,n){l(n,3,0),l(n,6,0)}),null)}function bl(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,2,"div",[["class","container"]],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,cl)),t.rb(2,16384,null,0,i.p,[t.N,t.K],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.component.userData)}),null)}function pl(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,1,"app-user-clouds",[],null,null,null,bl,ol)),t.rb(1,114688,null,0,il,[t.q],null,null)],(function(l,n){l(n,1,0)}),null)}var dl=t.ob("app-user-clouds",il,pl,{},{},[]),hl=u("s7LF"),ml=u("YD+O"),fl=u("G0yt"),gl=u("9WrV");class vl{}class yl{}u.d(n,"UserModuleNgFactory",(function(){return Dl}));var Dl=t.pb(e,[],(function(l){return t.Bb([t.Cb(512,t.j,t.Z,[[8,[s.a,r.a,U,Z,dl]],[3,t.j],t.w]),t.Cb(4608,i.r,i.q,[t.t,[2,i.M]]),t.Cb(4608,hl.k,hl.k,[]),t.Cb(1073742336,i.c,i.c,[]),t.Cb(1073742336,hl.j,hl.j,[]),t.Cb(1073742336,hl.c,hl.c,[]),t.Cb(1073742336,ml.b,ml.b,[]),t.Cb(1073742336,a.s,a.s,[[2,a.x],[2,a.o]]),t.Cb(1073742336,fl.s,fl.s,[]),t.Cb(1073742336,fl.X,fl.X,[]),t.Cb(1073742336,gl.a,gl.a,[]),t.Cb(1073742336,vl,vl,[]),t.Cb(1073742336,yl,yl,[]),t.Cb(1073742336,e,e,[]),t.Cb(1024,a.m,(function(){return[[{path:"",component:k,children:[{path:"profile",component:$},{path:"clouds",component:il}]}]]}),[])])}))}}]);