(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{SYE2:function(l,n,u){"use strict";u.r(n);var t=u("8Y7J");class e{}var i=u("pMnS"),a=u("e42M"),s=u("wHgu"),r=u("23FM"),o=u("mrSG"),c=u("SFZf"),b=u("iq5f"),p=u("a6us");class d{constructor(l,n,u,t){this.utilityService=l,this.workspaceService=n,this.injector=u,this.socketService=t,this.subSink=new b.SubSink,this.publicFunctions=new c.a(this.injector)}ngOnInit(){}getCroppedImage(l){this.croppedImage=l}updateWorkplaceDetails(l,n){return o.__awaiter(this,void 0,void 0,(function*(){try{this.utilityService.asyncNotification("Please wait while we are updating the workspace avatar for you ...",new Promise((u,t)=>{this.subSink.add(this.workspaceService.updateWorkspace(l,n).subscribe(l=>{this.workspaceData.workspace_avatar=l.workspace.workspace_avatar,this.publicFunctions.sendUpdatesToWorkspaceData(this.workspaceData),this.subSink.add(this.emitWorkspaceData(this.socketService,this.workspaceData)),u(this.utilityService.resolveAsyncPromise("Workspace avatar updated!"))},l=>{console.log("Error occured, while updating the workspace avatar",l),t(this.utilityService.rejectAsyncPromise("Oops, an error occured while updating the workspace avatar, please try again!"))}))}))}catch(u){console.log("There's some unexpected error occured, please try again!",u),this.utilityService.errorNotification("There's some unexpected error occured, please try again!")}}))}emitWorkspaceData(l,n){return l.onEmit("workspaceData",n).pipe(Object(p.retry)(1/0)).subscribe()}ngOnDestroy(){this.subSink.unsubscribe()}}var h=u("aXYn"),m=u("GED1"),g=t.qb({encapsulation:0,styles:[["img[_ngcontent-%COMP%]{border-radius:50%;width:15%;height:15%;margin-bottom:2%;display:block;margin-left:auto;margin-right:auto}.modal-body[_ngcontent-%COMP%]{max-height:calc(100vh - 200px);overflow-y:auto}"]],data:{}});function v(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,2,"div",[["class","modal-header"]],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Workspace Update"])),(l()(),t.sb(3,0,null,null,4,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),t.sb(4,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.sb(5,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(l()(),t.sb(6,0,null,null,1,"app-crop-image",[["class","container"]],null,[[null,"outputImage"]],(function(l,n,u){var t=!0;return"outputImage"===n&&(t=!1!==l.component.getCroppedImage(u)&&t),t}),a.b,a.a)),t.rb(7,114688,null,0,s.a,[r.a],null,{outputImage:"outputImage"}),(l()(),t.sb(8,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),t.sb(9,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var t=!0,e=l.component;return"click"===n&&(t=!1!==e.updateWorkplaceDetails(null==e.workspaceData?null:e.workspaceData._id,e.croppedImage)&&t),t}),null,null)),(l()(),t.Mb(-1,null,["Save"]))],(function(l,n){l(n,7,0)}),(function(l,n){var u=n.component;l(n,5,0,t.wb(2,"",u.baseUrl,"/uploads/",null==u.workspaceData?null:u.workspaceData.workspace_avatar,""))}))}var f=u("iInd"),k=u("SVse"),w=u("AytR");class y{constructor(l,n){this.utilityService=l,this.injector=n,this.baseUrl=w.a.UTILITIES_BASE_URL,this.subSink=new b.SubSink,this.publicFunctions=new c.a(this.injector)}ngOnInit(){return o.__awaiter(this,void 0,void 0,(function*(){this.subSink.add(this.utilityService.currentWorkplaceData.subscribe(l=>{JSON.stringify(l)!=JSON.stringify({})&&(this.workspaceData=l)})),this.userData=yield this.publicFunctions.getCurrentUser(),this.workspaceData=yield this.publicFunctions.getCurrentWorkspace()}))}openWorkspaceDetails(l){return o.__awaiter(this,void 0,void 0,(function*(){this.utilityService.openModal(l,{size:"xl",centered:!0})}))}}var D=t.qb({encapsulation:0,styles:[[""]],data:{}});function S(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,1,"app-workspace-details",[],null,null,null,v,g)),t.rb(1,245760,null,0,d,[r.a,h.a,t.q,m.a],{userData:[0,"userData"],workspaceData:[1,"workspaceData"],baseUrl:[2,"baseUrl"]},null)],(function(l,n){var u=n.component;l(n,1,0,u.userData,u.workspaceData,u.baseUrl)}),null)}function _(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,39,"div",[["class","container"],["style","margin-bottom: 30px"]],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,38,"div",[["class","media user-sticky-card"]],null,null,null,null,null)),(l()(),t.sb(2,0,null,null,0,"img",[["class","mr-3 feed-avatar"],["onerror","this.src='/assets/images/organization.png'"]],[[8,"src",4]],null,null,null,null)),(l()(),t.sb(3,0,null,null,31,"div",[["class","media-body"]],null,null,null,null,null)),(l()(),t.sb(4,0,null,null,30,"div",[],null,null,null,null,null)),(l()(),t.sb(5,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Workplace settings"])),(l()(),t.sb(7,0,null,null,27,"ul",[["class","nav"]],null,null,null,null,null)),(l()(),t.sb(8,0,null,null,8,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),t.sb(9,0,null,null,7,"a",[["class","nav-link"],["routerLink","/dashboard/admin/general"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Eb(l,10).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e),e}),null,null)),t.rb(10,671744,[[2,4]],0,f.r,[f.o,f.a,k.m],{routerLink:[0,"routerLink"]},null),t.rb(11,1720320,null,2,f.q,[f.o,t.k,t.C,[2,f.p],[2,f.r]],{routerLinkActive:[0,"routerLinkActive"]},null),t.Kb(603979776,1,{links:1}),t.Kb(603979776,2,{linksWithHrefs:1}),(l()(),t.Mb(-1,null,["General "])),(l()(),t.sb(15,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(l()(),t.Mb(-1,null,["(current)"])),(l()(),t.sb(17,0,null,null,8,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),t.sb(18,0,null,null,7,"a",[["class","nav-link"],["routerLink","/dashboard/admin/members"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Eb(l,19).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e),e}),null,null)),t.rb(19,671744,[[4,4]],0,f.r,[f.o,f.a,k.m],{routerLink:[0,"routerLink"]},null),t.rb(20,1720320,null,2,f.q,[f.o,t.k,t.C,[2,f.p],[2,f.r]],{routerLinkActive:[0,"routerLinkActive"]},null),t.Kb(603979776,3,{links:1}),t.Kb(603979776,4,{linksWithHrefs:1}),(l()(),t.Mb(-1,null,["Members "])),(l()(),t.sb(24,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(l()(),t.Mb(-1,null,["(current)"])),(l()(),t.sb(26,0,null,null,8,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),t.sb(27,0,null,null,7,"a",[["class","nav-link"],["routerLink","/dashboard/admin/billing"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Eb(l,28).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e),e}),null,null)),t.rb(28,671744,[[6,4]],0,f.r,[f.o,f.a,k.m],{routerLink:[0,"routerLink"]},null),t.rb(29,1720320,null,2,f.q,[f.o,t.k,t.C,[2,f.p],[2,f.r]],{routerLinkActive:[0,"routerLinkActive"]},null),t.Kb(603979776,5,{links:1}),t.Kb(603979776,6,{linksWithHrefs:1}),(l()(),t.Mb(-1,null,["Billing "])),(l()(),t.sb(33,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(l()(),t.Mb(-1,null,["(current)"])),(l()(),t.sb(35,0,null,null,3,"div",[["class","col-md-3 text-right"]],null,null,null,null,null)),(l()(),t.sb(36,0,null,null,2,"button",[["class","btn btn-link"],["name","button"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.openWorkspaceDetails(t.Eb(l,39))&&e),e}),null,null)),(l()(),t.sb(37,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),t.Mb(-1,null,["create"])),(l()(),t.hb(0,[["content",2]],null,0,null,S)),(l()(),t.sb(40,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t.rb(41,212992,null,0,f.t,[f.b,t.N,t.j,[8,null],t.h],null,null)],(function(l,n){l(n,10,0,"/dashboard/admin/general"),l(n,11,0,"active"),l(n,19,0,"/dashboard/admin/members"),l(n,20,0,"active"),l(n,28,0,"/dashboard/admin/billing"),l(n,29,0,"active"),l(n,41,0)}),(function(l,n){var u=n.component;l(n,2,0,t.wb(2,"",u.baseUrl,"/uploads/",null==u.workspaceData?null:u.workspaceData.workspace_avatar,"")),l(n,9,0,t.Eb(n,10).target,t.Eb(n,10).href),l(n,18,0,t.Eb(n,19).target,t.Eb(n,19).href),l(n,27,0,t.Eb(n,28).target,t.Eb(n,28).href)}))}function I(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,1,"app-admin-header",[],null,null,null,_,D)),t.rb(1,114688,null,0,y,[r.a,t.q],null,null)],(function(l,n){l(n,1,0)}),null)}var M=t.ob("app-admin-header",y,I,{},{},[]);class O{constructor(){this.workspaceData={},this.routerState=""}ngOnInit(){}}var E=t.qb({encapsulation:0,styles:[[""]],data:{}});function C(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,2,"h6",[["class","card-title"]],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Workplace Info"]))],null,null)}function N(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,2,"h6",[["class","card-title"]],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Company Stats"]))],null,null)}function j(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(l()(),t.Mb(1,null,["Company Name: ",""]))],null,(function(l,n){var u=n.component;l(n,1,0,null==u.workspaceData?null:u.workspaceData.company_name)}))}function P(l){return t.Ob(2,[(l()(),t.sb(0,0,null,null,17,"div",[["class","sidecontent"]],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,16,"div",[["class","card sideinnercard"]],null,null,null,null,null)),(l()(),t.sb(2,0,null,null,15,"div",[["class","card-block"]],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,C)),t.rb(4,16384,null,0,k.p,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.hb(16777216,null,null,1,null,N)),t.rb(6,16384,null,0,k.p,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(7,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,j)),t.rb(9,16384,null,0,k.p,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(10,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(l()(),t.Mb(11,null,["Owner Name: "," ",""])),(l()(),t.sb(12,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(l()(),t.Mb(13,null,["Total Members: ",""])),(l()(),t.sb(14,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(l()(),t.Mb(15,null,["Company Members: ",""])),(l()(),t.sb(16,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(l()(),t.Mb(17,null,["Invited Guests: ",""]))],(function(l,n){var u=n.component;l(n,4,0,"general"===u.routerState),l(n,6,0,"billing"===u.routerState),l(n,9,0,"billing"===u.routerState)}),(function(l,n){var u=n.component;l(n,11,0,null==u.workspaceData?null:u.workspaceData.owner_first_name,null==u.workspaceData?null:u.workspaceData.owner_last_name),l(n,13,0,(null==u.workspaceData?null:u.workspaceData.company_members_count)+(null==u.workspaceData||null==u.workspaceData.invited_users?null:u.workspaceData.invited_users.length)),l(n,15,0,null==u.workspaceData?null:u.workspaceData.company_members_count),l(n,17,0,null==u.workspaceData||null==u.workspaceData.invited_users?null:u.workspaceData.invited_users.length)}))}var x=u("vdBU"),L=u("78I+"),A=u("s7LF"),F=u("7RJT");class U{constructor(l,n){this.adminService=l,this.utilityService=n,this.allowedDomains=[],this.isLoading$=new F.BehaviorSubject(!1)}ngOnInit(){return o.__awaiter(this,void 0,void 0,(function*(){this.allowedDomains=yield this.getAllowedDomains(this.workspaceData._id)}))}addDomainName(l,n){return o.__awaiter(this,void 0,void 0,(function*(){try{this.utilityService.asyncNotification("Please wait, while we are adding the domain...",new Promise((u,t)=>{-1!=this.allowedDomains.findIndex(l=>l.trim().toLowerCase()===n.trim().toLowerCase())?u(this.utilityService.resolveAsyncPromise(`Seems like the ${n} domain already exist!`)):this.adminService.addToAllowedDomain(l,n).subscribe(l=>{this.allowedDomains.push(n),this.addDomain="",u(this.utilityService.resolveAsyncPromise(`${n} has been added to the allowed domains!`))},l=>{this.addDomain="",console.log("Error occured, while adding the domain",l),t(this.utilityService.rejectAsyncPromise("Oops, an error occured while adding the domain, please try again!"))})}))}catch(u){console.log("There's some unexpected error occured, please try again!",u),this.utilityService.errorNotification("There's some unexpected error occured, please try again!")}}))}getAllowedDomains(l){return o.__awaiter(this,void 0,void 0,(function*(){try{return this.isLoading$.next(!0),new Promise((n,u)=>{this.adminService.getAllowedDomains(l.trim()).subscribe(l=>{this.isLoading$.next(!1),n(l.domains)},l=>{console.log("Error occured, while fetching the list of allowed email domains",l),this.utilityService.errorNotification("Oops, an error occured while fetching the list of email domain, please try refreshing the page!"),this.isLoading$.next(!1),u([])})})}catch(n){console.log("There's some unexpected error occured, please try again!",n),this.utilityService.errorNotification("There's some unexpected error occured, please try again!")}}))}removeDomain(l,n){return o.__awaiter(this,void 0,void 0,(function*(){try{this.utilityService.getConfirmDialogAlert().then(u=>{u.value&&this.utilityService.asyncNotification("Please wait, while we are removing the domain for you",new Promise((u,t)=>{this.adminService.removeDomain(l,n).subscribe(l=>{let t=this.allowedDomains.findIndex(l=>l.trim().toLowerCase()===n.trim().toLowerCase());this.allowedDomains.splice(t,1),u(this.utilityService.resolveAsyncPromise(`${n} has been removed from the allowed domains!`))},l=>{console.log("Error occured, while removing the domain",l),u(this.utilityService.rejectAsyncPromise("Oops, an error occured while removing the domain, please try again!"))})}))})}catch(u){console.log("There's some unexpected error occured, please try again!",u),this.utilityService.errorNotification("There's some unexpected error occured, please try again!")}}))}}var W=u("IheW");let K=(()=>{class l{constructor(l){this._http=l,this.baseURL=w.a.WORKSPACE_BASE_API_URL}addToAllowedDomain(l,n){let u={domain:n.trim()};return this._http.post(this.baseURL+"/domains",u,{params:{workspaceId:l}})}removeDomain(l,n){return this._http.delete(this.baseURL+`/domains/${n}`,{params:{workspaceId:l}})}getAllowedDomains(l){return this._http.get(this.baseURL+"/domains/",{params:{workspaceId:l}})}inviteNewUserViaEmail(l,n,u){return this._http.post(this.baseURL+"/workspace/inviteUserViaEmail",{workspace_id:l,email:n,user_id:u})}removeUser(l,n){return this._http.delete(this.baseURL+`/workspaces/${l}/users/${n}`)}}return l.ngInjectableDef=t.Sb({factory:function(){return new l(t.Tb(W.c))},token:l,providedIn:"root"}),l})();var T=t.qb({encapsulation:0,styles:[["app-loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]],data:{}});function q(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.sb(1,0,null,null,1,"app-loading-spinner",[],null,null,null,x.b,x.a)),t.rb(2,114688,null,0,L.a,[],null,null)],(function(l,n){l(n,2,0)}),null)}function R(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,8,"div",[["class","container"]],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.sb(2,0,null,null,2,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),t.sb(3,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Mb(4,null,["",""])),(l()(),t.sb(5,0,null,null,2,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),t.sb(6,0,null,null,1,"button",[["class","btn btn-danger btn-sm"]],null,[[null,"click"]],(function(l,n,u){var t=!0,e=l.component;return"click"===n&&(t=!1!==e.removeDomain(e.workspaceData._id,l.context.$implicit)&&t),t}),null,null)),(l()(),t.Mb(-1,null,["Remove Domain"])),(l()(),t.sb(8,0,null,null,0,"br",[],null,null,null,null,null))],null,(function(l,n){l(n,4,0,n.context.$implicit)}))}function $(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,R)),t.rb(2,278528,null,0,k.o,[t.N,t.K,t.r],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],(function(l,n){var u=n.component;l(n,2,0,u.allowedDomains,u.utilityService.trackByIndex)}),null)}function Y(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,22,"div",[["class","card-tile workspace-signupmode"]],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,2,"h6",[],null,null,null,null,null)),(l()(),t.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Workplace signup mode"])),(l()(),t.sb(4,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.sb(5,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Choose to make your workplace sign up process either via invitation only, or allow anyone else with a certain email address domain to sign up."])),(l()(),t.sb(7,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,[" (ex - if you specify example.com, then users having email address with domain as example.com, can sign up!)"])),(l()(),t.sb(9,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.sb(10,0,null,null,4,"label",[["for","domain"]],null,null,null,null,null)),(l()(),t.Mb(-1,null,['Using this workplace name(as "'])),(l()(),t.sb(12,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Mb(13,null,["",""])),(l()(),t.Mb(-1,null,['"), any email adress from these domain can signup:'])),(l()(),t.sb(15,0,null,null,5,"input",[["class","form-control"],["name","domain"],["placeholder","Please provide the domain name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var e=!0,i=l.component;return"input"===n&&(e=!1!==t.Eb(l,16)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Eb(l,16).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Eb(l,16)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Eb(l,16)._compositionEnd(u.target.value)&&e),"ngModelChange"===n&&(e=!1!==(i.addDomain=u)&&e),e}),null,null)),t.rb(16,16384,null,0,A.b,[t.C,t.k,[2,A.a]],null,null),t.Jb(1024,null,A.e,(function(l){return[l]}),[A.b]),t.rb(18,671744,null,0,A.h,[[8,null],[8,null],[8,null],[6,A.e]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Jb(2048,null,A.f,null,[A.h]),t.rb(20,16384,null,0,A.g,[[4,A.f]],null,null),(l()(),t.sb(21,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],(function(l,n,u){var t=!0,e=l.component;return"click"===n&&(t=!1!==e.addDomainName(null==e.workspaceData?null:e.workspaceData._id,e.addDomain)&&t),t}),null,null)),(l()(),t.Mb(-1,null,["Add this Domain"])),(l()(),t.sb(23,0,null,null,13,"div",[["class","card-tile invite-users"]],null,null,null,null,null)),(l()(),t.sb(24,0,null,null,2,"h6",[],null,null,null,null,null)),(l()(),t.sb(25,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Allowed Domains"])),(l()(),t.sb(27,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.sb(28,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["List of all allowed domains from where user can sign up to this workplace."])),(l()(),t.sb(30,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,2,null,q)),t.rb(32,16384,null,0,k.p,[t.N,t.K],{ngIf:[0,"ngIf"]},null),t.Gb(131072,k.b,[t.h]),(l()(),t.hb(16777216,null,null,2,null,$)),t.rb(35,16384,null,0,k.p,[t.N,t.K],{ngIf:[0,"ngIf"]},null),t.Gb(131072,k.b,[t.h])],(function(l,n){var u=n.component;l(n,18,0,"domain",u.addDomain),l(n,32,0,t.Nb(n,32,0,t.Eb(n,33).transform(u.isLoading$))),l(n,35,0,!t.Nb(n,35,0,t.Eb(n,36).transform(u.isLoading$)))}),(function(l,n){var u=n.component;l(n,13,0,null==u.workspaceData?null:u.workspaceData.workspace_name),l(n,15,0,t.Eb(n,20).ngClassUntouched,t.Eb(n,20).ngClassTouched,t.Eb(n,20).ngClassPristine,t.Eb(n,20).ngClassDirty,t.Eb(n,20).ngClassValid,t.Eb(n,20).ngClassInvalid,t.Eb(n,20).ngClassPending)}))}var B=u("U9oc"),G=u("h4AB");class J{constructor(l,n){this.adminService=l,this.utilityService=n,this.email="",this.label="The option is mainly for inviting super-admins, group admins, and external guests.",this.placeholder="Please provide the email"}ngOnInit(){}getValidEmail(l){this.email=l}inviteUser(l,n,u){try{this.utilityService.asyncNotification("Please wait, while we are sending the email...",new Promise((t,e)=>{this.adminService.inviteNewUserViaEmail(l,n,u).subscribe(l=>{this.email="",t(this.utilityService.resolveAsyncPromise(`We have sent the invitation email at ${n} to join your workplace!`))},l=>{this.email="",console.log("Error occured, while sending the email",l),e(this.utilityService.rejectAsyncPromise("Oops, an error occured while sending the email, please try again!"))})}))}catch(t){console.log("There's some unexpected error occured, please try again!",t),this.utilityService.errorNotification("There's some unexpected error occured, please try again!")}}}var V=t.qb({encapsulation:0,styles:[[""]],data:{}});function H(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,9,"div",[["class","card-tile invite-users"]],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,2,"h6",[],null,null,null,null,null)),(l()(),t.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Invite individual users by email"])),(l()(),t.sb(4,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.sb(5,0,null,null,2,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.sb(6,0,null,null,1,"app-email-input",[],null,[[null,"outputEmail"]],(function(l,n,u){var t=!0;return"outputEmail"===n&&(t=!1!==l.component.getValidEmail(u)&&t),t}),B.b,B.a)),t.rb(7,4440064,null,0,G.a,[r.a],{email:[0,"email"],placeholder:[1,"placeholder"],label:[2,"label"]},{outputEmail:"outputEmail"}),(l()(),t.sb(8,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],(function(l,n,u){var t=!0,e=l.component;return"click"===n&&(t=!1!==e.inviteUser(null==e.workspaceData?null:e.workspaceData._id,e.email,null==e.userData?null:e.userData._id)&&t),t}),null,null)),(l()(),t.Mb(-1,null,["Invite to Join"]))],(function(l,n){var u=n.component;l(n,7,0,u.email,u.placeholder,u.label)}),null)}class X{constructor(l,n){this.utilityService=l,this.injector=n,this.publicFunctions=new c.a(this.injector)}ngOnInit(){return o.__awaiter(this,void 0,void 0,(function*(){this.utilityService.startForegroundLoader(),this.workspaceData=yield this.publicFunctions.getCurrentWorkspace(),this.userData=yield this.publicFunctions.getCurrentUser()}))}ngAfterViewChecked(){this.utilityService.stopForegroundLoader()}}var z=t.qb({encapsulation:0,styles:[[""]],data:{}});function Z(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,8,"div",[["class","row main-actvity"]],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,2,"div",[["class","col-md-4"]],null,null,null,null,null)),(l()(),t.sb(2,0,null,null,1,"app-workplace-information",[],null,null,null,P,E)),t.rb(3,114688,null,0,O,[],{workspaceData:[0,"workspaceData"],routerState:[1,"routerState"]},null),(l()(),t.sb(4,0,null,null,4,"div",[["class","col-md-8"]],null,null,null,null,null)),(l()(),t.sb(5,0,null,null,1,"app-workplace-add-domain",[],null,null,null,Y,T)),t.rb(6,114688,null,0,U,[K,r.a],{workspaceData:[0,"workspaceData"]},null),(l()(),t.sb(7,0,null,null,1,"app-workplace-invite-user",[],null,null,null,H,V)),t.rb(8,114688,null,0,J,[K,r.a],{workspaceData:[0,"workspaceData"],userData:[1,"userData"]},null)],(function(l,n){var u=n.component;l(n,3,0,u.workspaceData,"general"),l(n,6,0,u.workspaceData),l(n,8,0,u.workspaceData,u.userData)}),null)}function Q(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,2,"div",[["class","container"]],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,Z)),t.rb(2,16384,null,0,k.p,[t.N,t.K],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,2,0,u.workspaceData&&u.userData)}),null)}function ll(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,1,"app-admin-general",[],null,null,null,Q,z)),t.rb(1,8503296,null,0,X,[r.a,t.q],null,null)],(function(l,n){l(n,1,0)}),null)}var nl=t.ob("app-admin-general",X,ll,{},{},[]),ul=u("Tdi4"),tl=u("nQ18");class el{constructor(l,n){this.utilityService=l,this.injector=n,this.subSink=new b.SubSink,this.members=[],this.publicFunctions=new c.a(this.injector),this.searchBarPlaceholder="Whom you are looking for?"}ngOnInit(){return o.__awaiter(this,void 0,void 0,(function*(){this.subSink.add(this.utilityService.currentWorkplaceData.subscribe(l=>{JSON.stringify(l)!=JSON.stringify({})&&(this.workspaceData=l,this.members=this.workspaceData.members)})),this.workspaceData=yield this.publicFunctions.getCurrentWorkspace(),this.members=yield this.workspaceData.members}))}ngOnDestroy(){this.subSink.unsubscribe()}}var il=t.qb({encapsulation:0,styles:[[""]],data:{}});function al(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,1,"app-component-search-bar",[],null,null,null,ul.b,ul.a)),t.rb(1,4440064,null,0,tl.a,[t.q,r.a],{placeholder:[0,"placeholder"],type:[1,"type"],workspaceId:[2,"workspaceId"],workspaceData:[3,"workspaceData"],members:[4,"members"]},null)],(function(l,n){var u=n.component;l(n,1,0,u.searchBarPlaceholder,"workspace",null==u.workspaceData?null:u.workspaceData._id,u.workspaceData,u.members)}),null)}function sl(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,6,"div",[["class","container"]],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,5,"div",[["class","card-tile"]],null,null,null,null,null)),(l()(),t.sb(2,0,null,null,2,"h6",[],null,null,null,null,null)),(l()(),t.sb(3,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["All members from your workplace"])),(l()(),t.hb(16777216,null,null,1,null,al)),t.rb(6,16384,null,0,k.p,[t.N,t.K],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,6,0,u.workspaceData&&u.members&&u.searchBarPlaceholder)}),null)}function rl(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,1,"app-admin-members",[],null,null,null,sl,il)),t.rb(1,245760,null,0,el,[r.a,t.q],null,null)],(function(l,n){l(n,1,0)}),null)}var ol=t.ob("app-admin-members",el,rl,{},{},[]);class cl{constructor(l){this.injector=l,this.amount=1e3}ngOnInit(){return o.__awaiter(this,void 0,void 0,(function*(){let l=this.injector.get(h.a),n=this.injector.get(m.a),u=this.injector.get(r.a);this.handler=yield this.configureHandler(l,n,u)}))}handlePayment(){this.handler.open({name:"Octonius workspace",description:"Start a monthly subscription",amount:this.amount})}onPopstate(){this.handler.close()}configureHandler(l,n,u){return o.__awaiter(this,void 0,void 0,(function*(){return StripeCheckout.configure({key:w.a.pk_stripe,image:"/favicon.256x256.png",currency:"EUR",locale:"auto",token:t=>{u.asyncNotification("Please wait we creating the subscription for you...",new Promise((e,i)=>{l.createSubscription(t,this.amount).then(l=>{this.subscription=l.subscription,this.subscription.amount=this.subscription.amount/100,this.workspaceData.billing=l.workspace.billing,this.publicFunctions.sendUpdatesToWorkspaceData(this.workspaceData),this.publicFunctions.emitWorkspaceData(n,this.workspaceData),e(u.resolveAsyncPromise("Subscription Created Successfully!"))}).catch(()=>i(u.rejectAsyncPromise("Unable to create the Subscription, please try again!")))}))}})}))}ngOnDestroy(){this.handler.close()}}var bl=t.qb({encapsulation:0,styles:[[""]],data:{}});function pl(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,19,"div",[["class","card-tile"]],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,2,"h6",[],null,null,null,null,null)),(l()(),t.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Welcome to your workspace!"])),(l()(),t.sb(4,0,null,null,1,"h6",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["To start using your workspace, please complete your subscription below"])),(l()(),t.sb(6,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.sb(7,0,null,null,2,"h6",[],null,null,null,null,null)),(l()(),t.sb(8,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Current Plan "])),(l()(),t.sb(10,0,null,null,1,"h6",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["1 user - 10 EUR(\u20ac)/month"])),(l()(),t.sb(12,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.sb(13,0,null,null,4,"h6",[],null,null,null,null,null)),(l()(),t.sb(14,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Price"])),(l()(),t.sb(16,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,[" 10 Eur(\u20ac)/user - Per Month. Billed Monthly."])),(l()(),t.sb(18,0,null,null,1,"button",[["class","btn btn-md btn-primary"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.handlePayment()&&t),t}),null,null)),(l()(),t.Mb(-1,null,["Start a monthly subscription"]))],null,null)}var dl=u("wd/R");const hl=dl;class ml{transform(l,...n){return l?hl(l).format(n[0]):""}}const gl=new t.p("NGX_MOMENT_OPTIONS");class vl{transform(l,...n){return"string"==typeof l&&(l=+l),Object(dl.unix)(l)}}class fl{static forRoot(l){return{ngModule:fl,providers:[{provide:gl,useValue:Object.assign({},l)}]}}}class kl{constructor(l){this.injector=l}ngOnInit(){}cancelSubscription(){return o.__awaiter(this,void 0,void 0,(function*(){let l=this.injector.get(h.a),n=this.injector.get(m.a),u=this.injector.get(r.a);yield this.onCancelSubscription(l,n,u)}))}onCancelSubscription(l,n,u){return o.__awaiter(this,void 0,void 0,(function*(){return u.getConfirmDialogAlert().then(t=>{t.value&&u.asyncNotification("Please wait we are cancelling your subscription...",new Promise((t,e)=>{l.cancelSubscription().then(l=>{this.workspaceData.billing.scheduled_cancellation=!0,this.publicFunctions.sendUpdatesToWorkspaceData(this.workspaceData),this.publicFunctions.emitWorkspaceData(n,this.workspaceData),t(u.resolveAsyncPromise("Subscription Cancelled successfully!"))}).catch(()=>e(u.rejectAsyncPromise("Unable to cancel the Subscription, please try again!")))}))})}))}resumeSubscription(){return o.__awaiter(this,void 0,void 0,(function*(){let l=this.injector.get(h.a),n=this.injector.get(m.a),u=this.injector.get(r.a);yield this.onResumeSubscription(l,n,u)}))}onResumeSubscription(l,n,u){return o.__awaiter(this,void 0,void 0,(function*(){return l.resumeSubscription().then(l=>{this.workspaceData.billing.scheduled_cancellation=!1,this.publicFunctions.sendUpdatesToWorkspaceData(this.workspaceData),this.publicFunctions.emitWorkspaceData(n,this.workspaceData),u.successNotification("Subscription resumed successfully!")}).catch(()=>u.errorNotification("Unable to resume the Subscription, please try again!"))}))}}var wl=t.qb({encapsulation:0,styles:[[""]],data:{}});function yl(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,5,"h6",[],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Current payment valid until - "])),(l()(),t.Mb(3,null,[" "," "])),t.Ib(4,1),t.Ib(5,2)],null,(function(l,n){var u=n.component,e=t.Nb(n,3,0,l(n,5,0,t.Eb(n.parent,0),t.Nb(n,3,0,l(n,4,0,t.Eb(n.parent,1),u.subscription.current_period_end)),"LL"));l(n,3,0,e)}))}function Dl(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Active"]))],null,null)}function Sl(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Inactive"]))],null,null)}function _l(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,1,"button",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.cancelSubscription()&&t),t}),null,null)),(l()(),t.Mb(-1,null,[" Cancel subscription "]))],null,null)}function Il(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,1,"button",[["class","btn btn-warning"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.resumeSubscription()&&t),t}),null,null)),(l()(),t.Mb(-1,null,["Resume subscription"]))],null,null)}function Ml(l){return t.Ob(0,[t.Gb(0,ml,[]),t.Gb(0,vl,[]),t.Gb(0,k.d,[t.t]),(l()(),t.sb(3,0,null,null,31,"div",[["class","card-tile"]],null,null,null,null,null)),(l()(),t.sb(4,0,null,null,2,"h6",[],null,null,null,null,null)),(l()(),t.sb(5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Your Subscription Details"])),(l()(),t.sb(7,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.sb(8,0,null,null,5,"h6",[],null,null,null,null,null)),(l()(),t.sb(9,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Started on - "])),(l()(),t.Mb(11,null,[" "," "])),t.Ib(12,1),t.Ib(13,2),(l()(),t.hb(16777216,null,null,1,null,yl)),t.rb(15,16384,null,0,k.p,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16,0,null,null,5,"h6",[],null,null,null,null,null)),(l()(),t.sb(17,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Status - "])),(l()(),t.hb(16777216,null,null,1,null,Dl)),t.rb(20,16384,null,0,k.p,[t.N,t.K],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t.hb(0,[["inactive",2]],null,0,null,Sl)),(l()(),t.sb(22,0,null,null,4,"h6",[],null,null,null,null,null)),(l()(),t.sb(23,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Cost - "])),(l()(),t.Mb(25,null,[" "," / "," "])),t.Ib(26,2),(l()(),t.sb(27,0,null,null,3,"h6",[],null,null,null,null,null)),(l()(),t.sb(28,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Number of users on this subscription - "])),(l()(),t.Mb(30,null,[" "," "])),(l()(),t.sb(31,0,null,null,3,null,null,null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,_l)),t.rb(33,16384,null,0,k.p,[t.N,t.K],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t.hb(0,[["resumeSubscriptionTemp",2]],null,0,null,Il))],(function(l,n){var u=n.component;l(n,15,0,!u.workspaceData.billing.cancelled),l(n,20,0,!u.workspaceData.billing.cancelled,t.Eb(n,21)),l(n,33,0,!(null!=u.workspaceData.billing&&u.workspaceData.billing.scheduled_cancellation),t.Eb(n,34))}),(function(l,n){var u=n.component,e=t.Nb(n,11,0,l(n,13,0,t.Eb(n,0),t.Nb(n,11,0,l(n,12,0,t.Eb(n,1),u.subscription.created)),"LL"));l(n,11,0,e);var i=t.Nb(n,25,0,l(n,26,0,t.Eb(n,2),u.subscription.quantity*u.subscription.amount,"EUR"));l(n,25,0,i,u.subscription.interval),l(n,30,0,u.subscription.quantity)}))}class Ol{constructor(l,n){this.injector=l,this.utilityService=n,this.subscription=null,this.failedPayments=[],this.successPayments=[],this.publicFunctions=new c.a(this.injector),this.isLoading$=new F.BehaviorSubject(!1)}ngOnInit(){return o.__awaiter(this,void 0,void 0,(function*(){yield this.subscriptionExistCheck(this.workspaceData)}))}isWorkspaceOwner(){return this.workspaceData._owner==this.userData._id}subscriptionExistCheck(l){return o.__awaiter(this,void 0,void 0,(function*(){let n=this.injector.get(h.a),u=this.injector.get(r.a);l.billing&&l.billing.current_period_end>dl().unix()?n.getSubscription().then(n=>{this.subscription=n.subscription,this.subscription.amount=this.subscription.amount/100,this.failedPayments=l.billing.failed_payments,this.successPayments=l.billing.success_payments}).catch(()=>u.errorNotification("Unable to fetch the Subscription details, please try again!")):this.subscription=null}))}renewSubscription(){return o.__awaiter(this,void 0,void 0,(function*(){let l=this.injector.get(h.a),n=(this.injector.get(m.a),this.injector.get(r.a));return l.renewSubscription().then(l=>{this.subscription=l.subscription,this.subscription.amount=this.subscription.amount/100,this.workspaceData=l.workspace,console.log(this.workspaceData),this.failedPayments=this.workspaceData.billing.failed_payments,n.successNotification("Subscription renewed successfully!")}).catch(()=>n.errorNotification("Unable to renew the Subscription, please try again!"))}))}}var El=t.qb({encapsulation:0,styles:[["app-loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]],data:{}});function Cl(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,1,"app-start-subscription",[],null,[["window","popstate"]],(function(l,n,u){var e=!0;return"window:popstate"===n&&(e=!1!==t.Eb(l,1).onPopstate()&&e),e}),pl,bl)),t.rb(1,245760,null,0,cl,[t.q],{workspaceData:[0,"workspaceData"],userData:[1,"userData"],publicFunctions:[2,"publicFunctions"],subscription:[3,"subscription"]},null)],(function(l,n){var u=n.component;l(n,1,0,u.workspaceData,u.userData,u.publicFunctions,u.subscription)}),null)}function Nl(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.sb(1,0,null,null,1,"app-loading-spinner",[],null,null,null,x.b,x.a)),t.rb(2,114688,null,0,L.a,[],null,null)],(function(l,n){l(n,2,0)}),null)}function jl(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,1,"app-subscription-details",[],null,null,null,Ml,wl)),t.rb(1,114688,null,0,kl,[t.q],{workspaceData:[0,"workspaceData"],subscription:[1,"subscription"],publicFunctions:[2,"publicFunctions"]},null)],(function(l,n){var u=n.component;l(n,1,0,u.workspaceData,u.subscription,u.publicFunctions)}),null)}function Pl(l){return t.Ob(0,[(l()(),t.hb(16777216,null,null,1,null,jl)),t.rb(1,16384,null,0,k.p,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.hb(0,null,null,0))],(function(l,n){var u=n.component;l(n,1,0,u.workspaceData&&u.subscription)}),null)}function xl(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,11,"li",[["class","list-group-item disabled"]],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,5,"span",[],null,null,null,null,null)),(l()(),t.Mb(2,null,[""," - ",""])),t.Ib(3,1),t.Ib(4,2),t.Ib(5,1),t.Ib(6,2),(l()(),t.sb(7,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t.Mb(8,null,["",""])),t.Ib(9,2),(l()(),t.sb(10,0,null,null,1,"button",[["class","btn btn-outline-danger"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.renewSubscription()&&t),t}),null,null)),(l()(),t.Mb(-1,null,["Renew subcription"]))],null,(function(l,n){var u=t.Nb(n,2,0,l(n,4,0,t.Eb(n.parent.parent,0),t.Nb(n,2,0,l(n,3,0,t.Eb(n.parent.parent,1),n.context.$implicit.data.object.period_start)),"MMMM Do YYYY")),e=t.Nb(n,2,1,l(n,6,0,t.Eb(n.parent.parent,0),t.Nb(n,2,1,l(n,5,0,t.Eb(n.parent.parent,1),n.context.$implicit.data.object.period_end)),"MMMM Do YYYY"));l(n,2,0,u,e);var i=t.Nb(n,8,0,l(n,9,0,t.Eb(n.parent.parent,2),n.context.$implicit.data.object.amount_due,"EUR"));l(n,8,0,i)}))}function Ll(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,5,"div",[["class","card-tile"]],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,1,"h3",[["class","f-payments-title"]],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Failed payments:"])),(l()(),t.sb(3,0,null,null,2,"ul",[["class","list-group"]],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,xl)),t.rb(5,278528,null,0,k.o,[t.N,t.K,t.r],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],(function(l,n){var u=n.component;l(n,5,0,u.failedPayments,u.utilityService.trackByIndex)}),null)}function Al(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,9,"li",[["class","list-group-item disabled"]],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,5,"span",[],null,null,null,null,null)),(l()(),t.Mb(2,null,[""," - ",""])),t.Ib(3,1),t.Ib(4,2),t.Ib(5,1),t.Ib(6,2),(l()(),t.sb(7,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t.Mb(8,null,["",""])),t.Ib(9,2)],null,(function(l,n){var u=t.Nb(n,2,0,l(n,4,0,t.Eb(n.parent.parent,0),t.Nb(n,2,0,l(n,3,0,t.Eb(n.parent.parent,1),n.context.$implicit.data.object.period_start)),"MMMM Do YYYY")),e=t.Nb(n,2,1,l(n,6,0,t.Eb(n.parent.parent,0),t.Nb(n,2,1,l(n,5,0,t.Eb(n.parent.parent,1),n.context.$implicit.data.object.period_end)),"MMMM Do YYYY"));l(n,2,0,u,e);var i=t.Nb(n,8,0,l(n,9,0,t.Eb(n.parent.parent,2),n.context.$implicit.data.object.amount_due,"EUR"));l(n,8,0,i)}))}function Fl(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,5,"div",[["class","card-tile"]],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,1,"h3",[["class","s-payments-title"]],null,null,null,null,null)),(l()(),t.Mb(-1,null,["Completed payments:"])),(l()(),t.sb(3,0,null,null,2,"ul",[["class","list-group"]],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,Al)),t.rb(5,278528,null,0,k.o,[t.N,t.K,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,5,0,n.component.workspaceData.billing.success_payments)}),null)}function Ul(l){return t.Ob(0,[t.Gb(0,ml,[]),t.Gb(0,vl,[]),t.Gb(0,k.d,[t.t]),(l()(),t.hb(16777216,null,null,1,null,Cl)),t.rb(4,16384,null,0,k.p,[t.N,t.K],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t.hb(16777216,null,null,2,null,Nl)),t.rb(6,16384,null,0,k.p,[t.N,t.K],{ngIf:[0,"ngIf"]},null),t.Gb(131072,k.b,[t.h]),(l()(),t.hb(0,[["subscriptionTemp",2]],null,0,null,Pl)),(l()(),t.hb(16777216,null,null,1,null,Ll)),t.rb(10,16384,null,0,k.p,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.hb(16777216,null,null,1,null,Fl)),t.rb(12,16384,null,0,k.p,[t.N,t.K],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,4,0,!(null!=u.workspaceData&&null!=u.workspaceData.billing&&u.workspaceData.billing.current_period_end),t.Eb(n,8)),l(n,6,0,t.Nb(n,6,0,t.Eb(n,7).transform(u.isLoading$))),l(n,10,0,u.failedPayments.length>0),l(n,12,0,u.workspaceData.billing.success_payments.length>0)}),null)}class Wl{constructor(l){this.injector=l,this.publicFunctions=new c.a(this.injector),this.subSink=new b.SubSink}ngOnInit(){return o.__awaiter(this,void 0,void 0,(function*(){let l=this.injector.get(r.a);this.subSink.add(l.currentWorkplaceData.subscribe(l=>{JSON.stringify(l)!=JSON.stringify({})&&(this.workspaceData=l)})),this.userData=yield this.publicFunctions.getCurrentUser(),this.workspaceData=yield this.publicFunctions.getCurrentWorkspace()}))}ngOnDestroy(){this.subSink.unsubscribe()}}var Kl=t.qb({encapsulation:0,styles:[[""]],data:{}});function Tl(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,6,"div",[["class","row main-actvity"]],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,2,"div",[["class","col-md-4"]],null,null,null,null,null)),(l()(),t.sb(2,0,null,null,1,"app-workplace-information",[],null,null,null,P,E)),t.rb(3,114688,null,0,O,[],{workspaceData:[0,"workspaceData"],routerState:[1,"routerState"]},null),(l()(),t.sb(4,0,null,null,2,"div",[["class","col-md-8"]],null,null,null,null,null)),(l()(),t.sb(5,0,null,null,1,"app-stripe-payment",[],null,null,null,Ul,El)),t.rb(6,114688,null,0,Ol,[t.q,r.a],{workspaceData:[0,"workspaceData"],userData:[1,"userData"]},null)],(function(l,n){var u=n.component;l(n,3,0,u.workspaceData,"billing"),l(n,6,0,u.workspaceData,u.userData)}),null)}function ql(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,2,"div",[["class","container"]],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,Tl)),t.rb(2,16384,null,0,k.p,[t.N,t.K],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,2,0,u.workspaceData&&u.userData)}),null)}function Rl(l){return t.Ob(0,[(l()(),t.sb(0,0,null,null,1,"app-admin-billing",[],null,null,null,ql,Kl)),t.rb(1,245760,null,0,Wl,[t.q],null,null)],(function(l,n){l(n,1,0)}),null)}var $l=t.ob("app-admin-billing",Wl,Rl,{},{},[]),Yl=u("9AJC");class Bl{}var Gl=u("YD+O"),Jl=u("G0yt"),Vl=u("9WrV");u.d(n,"AdminModuleNgFactory",(function(){return Hl}));var Hl=t.pb(e,[],(function(l){return t.Bb([t.Cb(512,t.j,t.Z,[[8,[i.a,M,nl,ol,$l,Yl.a]],[3,t.j],t.w]),t.Cb(4608,k.r,k.q,[t.t,[2,k.M]]),t.Cb(4608,A.k,A.k,[]),t.Cb(4608,h.a,h.a,[W.c,t.q]),t.Cb(4608,K,K,[W.c]),t.Cb(1073742336,k.c,k.c,[]),t.Cb(1073742336,f.s,f.s,[[2,f.x],[2,f.o]]),t.Cb(1073742336,Bl,Bl,[]),t.Cb(1073742336,A.j,A.j,[]),t.Cb(1073742336,A.c,A.c,[]),t.Cb(1073742336,fl,fl,[]),t.Cb(1073742336,Gl.b,Gl.b,[]),t.Cb(1073742336,Jl.s,Jl.s,[]),t.Cb(1073742336,Jl.X,Jl.X,[]),t.Cb(1073742336,Vl.a,Vl.a,[]),t.Cb(1073742336,e,e,[]),t.Cb(1024,f.m,(function(){return[[{path:"",component:y,children:[{path:"general",component:X},{path:"members",component:el},{path:"billing",component:Wl}]}]]}),[])])}))}}]);